<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>MatrixMan&#39;s blog</title>
  
  
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2021-09-06T05:39:12.964Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>CodingFucker</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>è…¾è®¯ç¬”è¯•ç®—æ³•å·9.5ç¬¬äº”é¢˜</title>
    <link href="http://example.com/2021/09/06/%E8%85%BE%E8%AE%AF%E7%AC%94%E8%AF%95%E7%AE%97%E6%B3%95%E5%8D%B79-5%E7%AC%AC%E4%BA%94%E9%A2%98/"/>
    <id>http://example.com/2021/09/06/%E8%85%BE%E8%AE%AF%E7%AC%94%E8%AF%95%E7%AE%97%E6%B3%95%E5%8D%B79-5%E7%AC%AC%E4%BA%94%E9%A2%98/</id>
    <published>2021-09-06T05:22:04.000Z</published>
    <updated>2021-09-06T05:39:12.964Z</updated>
    
    <content type="html"><![CDATA[<p>é¢˜ç›®ï¼šå°Aåœ¨ç©ä¸€ä¸ªç½‘ç»œæ¸¸æˆï¼Œæœ‰ä¸€ä¸ªæŠ½è£…å¤‡ç¯èŠ‚ã€‚è£…å¤‡æ± æ€»å…±æœ‰n+mä»¶è£…å¤‡ï¼Œ åˆ†åˆ«ä¸ºnä»¶æ™®é€šè£…å¤‡å’Œmä»¶ssrè£…å¤‡ã€‚æ¯æ¬¡æŠ½ä¸­ä¸€ä»¶ssrçº§è£…å¤‡ï¼ŒèŠ±è´¹2å…ƒï¼Œ ä¸æ”¾å›ã€‚æ¯æ¬¡æŠ½ä¸­ä¸€ä»¶æ™®é€šè£…å¤‡ï¼ŒèŠ±è´¹1å…ƒï¼Œ æ”¾å›ã€‚æ‰€æœ‰è£…å¤‡æŠ½ä¸­çš„æ¦‚ç‡ç›¸ç­‰ã€‚é—®ï¼šå°Aè‹¥æƒ³æŠ½èµ°æ‰€æœ‰ssrçº§è£…å¤‡ï¼Œæ‰€æœ‰èŠ±è´¹çš„æœŸæœ›æ˜¯å¤šå°‘å…ƒï¼Ÿ</p><p>è¿™é‡Œæä¾›ä¸€ä¸ªå¤§ä½¬çš„ç®€ä¾¿æ€è·¯ã€‚ å…ˆè€ƒè™‘åœ¨nä»¶æ™®é€šè£…å¤‡ï¼Œmä»¶ç¥è£…æƒ…å†µä¸‹ï¼Œ åªæŠ½ä¸€ä»¶ç¥è£…çš„èŠ±è´¹æœŸæœ›ã€‚è¿™é‡Œï¼ŒæŠ½ä¸­ä¸€ä»¶ç¥è£…çš„æ¦‚ç‡ä¸º$p=\frac{m}{m+n}$ã€‚ç°åœ¨è®¡ç®—æŠ½çš„<strong>æ¬¡æ•°</strong>çš„æœŸæœ›ã€‚ å‡è‹¥ç¬¬ä¸€æ¬¡æŠ½ä¸­ï¼Œæ¦‚ç‡ä¸º$\frac{1}{p}$, ç¬¬äºŒæ¬¡æ‰æŠ½ä¸­(ç¬¬ä¸€æ¬¡æ”¾å›),æ¦‚ç‡ä¸º$\frac{1}{1-p}<em>\frac{1}{p}$,  ç¬¬ä¸‰æ¬¡æ‰æŠ½ä¸­ï¼Œæ¦‚ç‡ä¸º $\frac{1}{1-p}</em>\frac{1}{1-p}<em>\frac{1}{p}$â€¦<br>è¿™ä¸ªåˆ†å¸ƒæœŸæœ›å°±æ˜¯æ‰€è°“å‡ ä½•åˆ†å¸ƒï¼Œ è·Ÿä¸€ç›´æ‰“é¶ç›´åˆ°æ‰“ä¸­ä¸ºæ­¢çš„æ¦‚ç‡æ¨¡å‹æ˜¯ä¸€æ ·çš„ï¼ŒæœŸæœ›æ¬¡æ•°æ˜¯$\frac{1}{p}$ ï¼Œè¿™ä¸ªæœ‰å…´è¶£å¯ä»¥ç¿»æ¦‚ç‡è®ºï¼ŒæœŸæœ›æ˜¯ä¸€ä¸ªçº§æ•°æ±‚å’Œã€‚ é‚£ä¹ˆåªæŠ½ä¸€ä»¶ç¥è£…çš„æ¬¡æ•°æœŸæœ›å°±æ˜¯$\frac{1}{p}$ã€‚ç°åœ¨æ±‚èŠ±è´¹æœŸæœ›ï¼Œ å°±åƒå‰é¢è®²çš„æ‰“é¶æ¨¡å‹ï¼Œ ä½ æŠ½äº†$\frac{1}{p}$æ¬¡æ‰æŠ½ä¸­ç¥è£…ï¼Œ æ„å‘³ç€å‰é¢ $\frac{1}{p}-1$æ¬¡éƒ½æŠ½çš„æ™®é€šè£…ï¼Œ é‚£ä¹ˆå‰é¢èŠ±è´¹æ˜¯ $(\frac{1}{p}-1)</em>1=\frac{1}{p}-1$å…ƒï¼Œ æœ€åä¸€æ¬¡æŠ½ä¸­ç¥è£…ï¼Œ èŠ±è´¹2å…ƒã€‚æ‰€ä»¥ï¼ŒåªæŠ½ä¸€ä»¶ç¥è£…çš„èŠ±è´¹æœŸæœ›= $(\frac{1}{p}-1+2=\frac{1}{p}+1$ å…ƒã€‚é‚£ä¹ˆå¥½äº†ï¼Œæˆ‘æŠ½å®Œä¸€ä»¶ç¥è£…åï¼Œå†æŠ½ä¸€ä»¶ï¼ŒèŠ±è´¹æœŸæœ›ä¸å°±æ˜¯$(\frac{2(m-1)+n}{m-1}$å…ƒ  , ç„¶åç´¯åŠ ä¸‹å»ä¸å°±æ˜¯æŠ½mä»¶ç¥è£…çš„æ€»èŠ±è´¹æœŸæœ›ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;é¢˜ç›®ï¼šå°Aåœ¨ç©ä¸€ä¸ªç½‘ç»œæ¸¸æˆï¼Œæœ‰ä¸€ä¸ªæŠ½è£…å¤‡ç¯èŠ‚ã€‚è£…å¤‡æ± æ€»å…±æœ‰n+mä»¶è£…å¤‡ï¼Œ åˆ†åˆ«ä¸ºnä»¶æ™®é€šè£…å¤‡å’Œmä»¶ssrè£…å¤‡ã€‚æ¯æ¬¡æŠ½ä¸­ä¸€ä»¶ssrçº§è£…å¤‡ï¼ŒèŠ±è´¹2å…ƒï¼Œ ä¸æ”¾å›ã€‚æ¯æ¬¡æŠ½ä¸­ä¸€ä»¶æ™®é€šè£…å¤‡ï¼ŒèŠ±è´¹1å…ƒï¼Œ æ”¾å›ã€‚æ‰€æœ‰è£…å¤‡æŠ½ä¸­çš„æ¦‚ç‡ç›¸ç­‰ã€‚é—®ï¼šå°Aè‹¥æƒ³æŠ½èµ°æ‰€æœ‰ssrçº§è£…å¤‡ï¼Œæ‰€æœ‰èŠ±è´¹çš„æœŸæœ›æ˜¯å¤šå°‘</summary>
      
    
    
    
    <category term="python" scheme="http://example.com/categories/python/"/>
    
    
    <category term="ç®—æ³•,ç¬”è¯•,æ¦‚ç‡" scheme="http://example.com/tags/%E7%AE%97%E6%B3%95-%E7%AC%94%E8%AF%95-%E6%A6%82%E7%8E%87/"/>
    
  </entry>
  
  <entry>
    <title>è·‘æ·±åº¦å­¦ä¹ ä»£ç æ—¶è‡ªåŠ¨é€‰æ‹©æ˜¾å¡</title>
    <link href="http://example.com/2021/07/23/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%87%AA%E5%8A%A8%E9%80%89%E6%8B%A9%E6%98%BE%E5%8D%A1/"/>
    <id>http://example.com/2021/07/23/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%87%AA%E5%8A%A8%E9%80%89%E6%8B%A9%E6%98%BE%E5%8D%A1/</id>
    <published>2021-07-22T16:43:08.000Z</published>
    <updated>2021-07-24T06:44:36.385Z</updated>
    
    <content type="html"><![CDATA[<p><img src="æ˜¾å¡.jpg" alt=""></p><h3 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h3><p>é•¿æœŸä»¥æ¥ï¼Œç¬”è€…åœ¨è·‘æ·±åº¦å­¦ä¹ å®éªŒæ—¶ï¼Œæ€»ä¼šé‡åˆ°è¿™æ ·ä¸€ä¸ªé—®é¢˜: ç©¶ç«Ÿè¯¥é€‰å“ªå—(or å“ªå‡ å—)å¡ï¼Ÿ<br>å› ä¸ºç¬”è€…ä½¿ç”¨çš„æœåŠ¡å™¨ä¸€å…±æœ‰9å—æ˜¾å¡, æœ‰10ä¸ªäººå¯ä»¥ç”¨ï¼Œæ¯ä¸ªäººéšæœºæ—¶é—´æ®µä½¿ç”¨ã€‚é‚£ä¹ˆå¾ˆå¸¸è§çš„æƒ…å†µå°±æ˜¯, æˆ‘å¤´ä¸€å¤©è·‘è¿‡çš„ä»£ç ï¼Œç¬¬äºŒå¤©å†è·‘çš„æ—¶å€™è¿è¡Œäº†å‡ åˆ†é’Ÿç”šè‡³åæ¥åˆ†é’Ÿåçªç„¶æŠ¥é”™: OOM Errorã€‚ã€‚ã€‚è·Ÿåƒshitäº†ä¸€æ ·éš¾å—ï¼Œæœ€åç°æºœæºœçš„åœ¨ç»ˆç«¯è¾“å…¥nvidia-smi(æˆ‘aliasäº†ä¹Ÿè¿˜æ˜¯æ„Ÿè§‰éº»çƒ¦)ï¼Œç”¨è‚‰çœ¼åˆ†æå“ªå‡ ä¸ªå‰©ä½™æ˜¾å¡å¯ä»¥ç”¨ã€‚å¯¹äºä½¿ç”¨tensorflowçš„åŒå­¦æ¥è¯´ï¼Œå°¤æ˜¯ä¸€åœºç¾éš¾ï¼Œå› ä¸ºtensorflowçš„å‰æ‘‡æ—¶é—´æ¯”pytorchçœŸçš„é•¿äº†ä¸çŸ¥é“å¤šå°‘ã€‚å› æ­¤ï¼Œå¦‚æœèƒ½åœ¨æ¯ä¸ªæ·±åº¦å­¦ä¹ ä»£ç å‰ï¼ŒåŠ ä¸€ä¸ªè‡ªåŠ¨æ£€æµ‹å¯ç”¨æ˜¾å¡ç¨‹åºï¼Œå²‚ä¸æ˜¯èŠ‚çº¦äº†å¾ˆå¤šæ—¶é—´ã€‚</p><h3 id="é—®é¢˜æ¢ç©¶"><a href="#é—®é¢˜æ¢ç©¶" class="headerlink" title="é—®é¢˜æ¢ç©¶"></a>é—®é¢˜æ¢ç©¶</h3><p>1)tryâ€¦ exceptâ€¦</p><p>ä¼ªä»£ç </p><pre><code class="lang-python">for cardnumber in gpuList:    try:        os.environ["CUDA_VISIBLE_DEVICE"] = cardnumber        run_yourmodel()    except OOMERROR as e:        pass</code></pre><p>è¿™ä¸ªæ–¹æ¡ˆé—®é¢˜åœ¨äºè¯•é”™æˆæœ¬å¤ªé«˜ã€‚è¯•æƒ³æˆ‘åœ¨ä½¿ç”¨tensorflow, æ¯æ¬¡è¿è¡Œå‰éƒ½ä¼šé¢„å…ˆæ£€æŸ¥æ˜¾å¡çš„å„ç§ä¿¡æ¯ï¼Œç„¶åoomï¼Œç„¶åè¯•ä¸‹ä¸€ä¸ªæ˜¾å¡ï¼Œæ—¶é—´ä¼šçˆ†ç‚¸ã€‚ç”šè‡³é‡åˆ°åˆ†å¸ƒå¼è®­ç»ƒæ—¶å€™ï¼Œæˆ‘éš¾é“è¦åœ¨å€™é€‰æ˜¾å¡åˆ—è¡¨é‡Œï¼Œæ’åˆ—ç»„åˆæ‰€æœ‰çš„æ˜¾å¡ç»„åˆï¼Ÿæ˜¾ç„¶ä¸è¡Œï¼Œå› æ­¤è¿™ä¸ªæ–¹æ¡ˆæ”¾å¼ƒã€‚</p><p>2)è·å–æ˜¾å¡ä¿¡æ¯ååŠ è½½<br>åœ¨æˆ‘çš„è®¾æƒ³ä¸­ï¼ŒNvidiaå®˜æ–¹åº”è¯¥æ˜¯ç»™äº†æ§åˆ¶æ¥å£çš„ï¼Œç”¨äºè·å–æ€»çš„memory, å·²ç»ä½¿ç”¨çš„memory, å‰©ä½™çš„memoryã€‚äº‹å®ä¸Š, è¿˜çœŸçš„ç»™äº†<span class="github-emoji"><span>ğŸ˜³</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f633.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><br><a href="https://developer.nvidia.com/nvidia-management-library-nvml">Nvidia nvml æ˜¾å¡ç®¡ç†åº“</a><br>è¿™ä¸ªæ˜¯åŸºäºCæ‰©å±•, ä¸è¿‡æœ‰äººè´¡çŒ®äº†py API<br><a href="https://github.com/gpuopenanalytics/pynvml">Pynvml</a><br>ç¬”è€…åœ¨åŠå¹´å¤šä¹‹å‰æ²¡æœ‰å‘ç°è¿™ä¸ªé¡¹ç›®ï¼Œå½“æ—¶å¼ºè¡Œè§£ænvidia-smiä¿¡æ¯ï¼Œåˆ†æè¿‡ç¨‹å¦‚ä¸‹<br>é¦–å…ˆç”¨pythonæ‰§è¡Œterminalå‘½ä»¤è·å–æ˜¾å¡ä¿¡æ¯</p><pre><code class="lang-python">import osfor i in os.popen('nvidia-smi').read():print(i)</code></pre><p>è¿”å›</p><pre><code>Fri Jul 23 21:05:39 2021+-----------------------------------------------------------------------------+| NVIDIA-SMI 440.33.01    Driver Version: 440.33.01    CUDA Version: 10.2     ||-------------------------------+----------------------+----------------------+| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC || Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. ||===============================+======================+======================||   0  TITAN RTX           Off  | 00000000:04:00.0 Off |                  N/A || 40%   46C    P8     5W / 280W |     11MiB / 24220MiB |      0%      Default |+-------------------------------+----------------------+----------------------+|   1  TITAN RTX           Off  | 00000000:06:00.0 Off |                  N/A || 97%   88C    P2   231W / 280W |  23526MiB / 24220MiB |    100%      Default |+-------------------------------+----------------------+----------------------+|   2  TITAN RTX           Off  | 00000000:07:00.0 Off |                  N/A || 41%   44C    P8     7W / 280W |     11MiB / 24220MiB |      0%      Default |+-------------------------------+----------------------+----------------------+|   3  TITAN V             Off  | 00000000:08:00.0 Off |                  N/A || 34%   49C    P8    29W / 250W |     12MiB / 12066MiB |      0%      Default |+-------------------------------+----------------------+----------------------+|   4  TITAN RTX           Off  | 00000000:0B:00.0 Off |                  N/A || 41%   44C    P8    15W / 280W |     11MiB / 24220MiB |      0%      Default |+-------------------------------+----------------------+----------------------+|   5  TITAN RTX           Off  | 00000000:0C:00.0 Off |                  N/A || 41%   46C    P8     9W / 280W |     11MiB / 24220MiB |      0%      Default |+-------------------------------+----------------------+----------------------+|   6  TITAN Xp            Off  | 00000000:0D:00.0 Off |                  N/A || 23%   39C    P8     9W / 250W |     10MiB / 12196MiB |      0%      Default |+-------------------------------+----------------------+----------------------+|   7  TITAN Xp            Off  | 00000000:0E:00.0 Off |                  N/A || 25%   44C    P8    10W / 250W |     10MiB / 12196MiB |      0%      Default |+-------------------------------+----------------------+----------------------+|   8  TITAN RTX           Off  | 00000000:0F:00.0 Off |                  N/A || 41%   46C    P8     1W / 280W |     11MiB / 24220MiB |      0%      Default |+-------------------------------+----------------------+----------------------++-----------------------------------------------------------------------------+| Processes:                                                       GPU Memory ||  GPU       PID   Type   Process name                             Usage      ||=============================================================================||    1     61162      C   ...xxx/anaconda3/envs/xxx/bin/python 23515MiB |+-----------------------------------------------------------------------------+</code></pre><p>å°è¯•æŒ‡å®šæ˜¾å¡è¾“å‡º2å·æ˜¾å¡ä¿¡æ¯</p><pre><code class="lang-python">import osfor i in os.popen('nvidia-smi -2 1').read().split('\n'):print(i)</code></pre><p>è¿”å›</p><pre><code>Fri Jul 23 21:10:46 2021+-----------------------------------------------------------------------------+| NVIDIA-SMI 440.33.01    Driver Version: 440.33.01    CUDA Version: 10.2     ||-------------------------------+----------------------+----------------------+| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC || Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. ||===============================+======================+======================||   2  TITAN RTX           Off  | 00000000:07:00.0 Off |                  N/A || 41%   44C    P8     6W / 280W |     11MiB / 24220MiB |      0%      Default |+-------------------------------+----------------------+----------------------++-----------------------------------------------------------------------------+| Processes:                                                       GPU Memory ||  GPU       PID   Type   Process name                             Usage      ||=============================================================================||  No running processes found                                                 |+-----------------------------------------------------------------------------+</code></pre><p>é‚£ä¹ˆé—®é¢˜å¾ˆæ¸…æ¥šäº†, æˆ‘ä»¬åœ¨è·å–æŒ‡å®šæ˜¾å¡ä¿¡æ¯åï¼Œéœ€è¦æå–å‡º 11MiB / 24220MiB è¿™ä¸ªå­—æ®µçš„ä¸¤ä¸ªæ•°ã€‚è¿™ä¸ªæ‰‹å†™é€»è¾‘æå–ä¸æ˜¯ä¸å¯ä»¥, ä½†å¹¸å¥½æˆ‘ä»¬æœ‰æ­£åˆ™å¼åŒ¹é…ã€‚</p><p><a href="https://www.zhihu.com/question/48219401/answer/742444326?utm_source=wechat_session&amp;utm_medium=social&amp;utm_oi=627839486953000960&amp;utm_content=group3_Answer&amp;utm_campaign=shareopn">ç¬”è€…å‚è€ƒçš„æ–‡ç« </a></p><pre><code class="lang-python">import osimport reGPU_state = os.popen('nvidia-smi -i 2').read()print(re.findall('(\d+)(?=\s*MiB)', GPU_state))#(?=pattern)è¡¨ç¤ºåŒ¹é…patternå‰é¢å†…å®¹# ç¬¬ä¸€ä¸ª(\d+)è¡¨ç¤ºä»åé¢åŒ¹é…æ¨¡å¼ä¸­ç¬¬äºŒæ¬¡è¿›è¡Œç­›é€‰, åŒ¹é…å¤šä¸ªæ•°å­—å­—ç¬¦</code></pre><p>è¿™é‡Œç®€å•è§£é‡Šä¸€ä¸‹å«ä¹‰ã€‚(?=\s<em>MiB)ä»£è¡¨åŒ¹é…<strong>å‰é¢æœ‰0æ¬¡æˆ–å¤šæ¬¡ç©ºç™½ç¬¦çš„MiB</strong>è¿™é‡Œå…¶å®\sä¸åŠ ä¹Ÿå¯ä»¥,åªæ˜¯ä¸€ç§é˜²é”™æœºåˆ¶ã€‚ (\d+)è¡¨ç¤ºåŒ¹é…ä¸€æ¬¡æˆ–å¤šæ¬¡æ•°å­—ï¼Œ è¿èµ·æ¥å°±æ˜¯<em>*åŒ¹é…MiBå‰é¢å¤šä¸ªæ•°å­—å­—ç¬¦</em></em></p><p>è¿”å›</p><pre><code>['11', '24220']</code></pre><p>è¿™æ­£æ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚<br>ä¸‹é¢ç»™å‡ºä¸€ä¸ªè‡ªåŠ¨æ˜¾å¡è·å–ç¨‹åºautoGPU, è¾“å…¥éœ€è¦çš„æ˜¾å¡æ•°, æ¯å¼ å¡éœ€è¦çš„æ˜¾å­˜æ•°, è‡ªåŠ¨é€‰æ‹©æ˜¾å¡ã€‚</p><pre><code class="lang-python">def testGPU(id=0, mem_collect='auto'):     GPU_state = os.popen('nvidia-smi -i %s' % str(id)).read()    GPU_type = re.findall('(?=TITAN\s).*?(?=\s+Off)', GPU_state)[0] #è·å–å‹å·    Usage = re.findall('(\d+)(?=\s*MiB)', GPU_state)[0] #è·å–å·²ä½¿ç”¨æ˜¾å­˜    Memory = re.findall('(\d+)(?=\s*MiB)', GPU_state)[1] #è·å–æ€»æ˜¾å­˜    IDLE =  int(Memory) - int(Usage) # è®¡ç®—ç©ºé—²æ˜¾å­˜    if mem_collect == 'auto': #è‡ªåŠ¨æ¨¡å¼, è·å–å®Œå…¨ç©ºé—²æ˜¾å¡        if int(Usage) &lt; 20: # è¿™é‡Œå› ä¸ºæœåŠ¡å™¨å¼€äº†gnomeæ¡Œé¢æœåŠ¡, ä¼šæœ‰ä¸åˆ°20MiBæ˜¾å­˜å ç”¨            return 1, GPU_type, IDLE, int(Memory)        else:            return 0, GPU_type, IDLE, int(Memory)    else:        if IDLE &gt; mem_collect:            return 1, GPU_type, IDLE, int(Memory)        else:            return 0, GPU_type, IDLE, int(Memory)def autoGPU(GPU_NUM=6, GPU_MEM='auto'):    os.environ["CUDA_DEVICE_ORDER"] = "PCI_BUS_ID" #å°†æ˜¾å¡è·å–é¡ºåºè°ƒæ•´ä¸ºPCI_BUS_IDæ¨¡å¼,å¦åˆ™å’Œ nvidia-smi ä¸­çš„æ˜¾å¡é¡ºåºä¸ä¸€è‡´    ID = []    for i in [8, 5, 4, 2, 1, 0, 3, 7 ,6]: #è‡ªå®šä¹‰äº†ä¸€ä¸ªæ˜¾å¡åºå·è·å–ä¼˜å…ˆçº§é¡ºåº        is_val, GPU, Usa, Mem = testGPU(i, GPU_MEM) #è¾“å…¥æ˜¾å¡åºå·å’Œéœ€è¦çš„æ˜¾å­˜, ä¾æ¬¡è¿”å›æ˜¯å¦å¯ç”¨, GPUå‹å·, å¯ç”¨æ˜¾å­˜, æ€»å…±æ˜¾å­˜        if is_val == 1:            ID.append(str(i))            print('å·²é€‰æ‹©ç¬¬{}å¼ å¡ï¼Œå‹å·ä¸º{}ï¼Œ{}MB/{}MBæ˜¾å­˜å¯ç”¨'.format(i, GPU, Usa, Mem))            if len(ID) == GPU_NUM:                break    assert len(ID)==GPU_NUM, 'ä½ è¦æ±‚çš„æ˜¾å¡æ¡ä»¶æ— æ³•æ»¡è¶³'    os.environ['CUDA_VISIBLE_DEVICES'] = ','.join(ID) # è®¾ç½®æ˜¾å¡if __name__ == '__main__':    autoGPU(3, 'auto') #è‡ªåŠ¨æ¨¡å¼é€‰æ‹©3å¼ æ˜¾å¡</code></pre><p>è¿”å›</p><pre><code>å·²é€‰æ‹©ç¬¬8å¼ å¡ï¼Œå‹å·ä¸ºTITAN RTXï¼Œ24209MB/24220MBæ˜¾å­˜å¯ç”¨å·²é€‰æ‹©ç¬¬5å¼ å¡ï¼Œå‹å·ä¸ºTITAN RTXï¼Œ24209MB/24220MBæ˜¾å­˜å¯ç”¨å·²é€‰æ‹©ç¬¬4å¼ å¡ï¼Œå‹å·ä¸ºTITAN RTXï¼Œ24209MB/24220MBæ˜¾å­˜å¯ç”¨</code></pre><h3 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h3><p>è¿™å°æ®µç¨‹åºè¿˜æœ‰å¾ˆå¤šå¯ä»¥æå‡çš„åœ°æ–¹, è¿™é‡ŒåªæŠ›ç –å¼•ç‰ã€‚å¦å¤–å½“æ—¶å†™è¿™ä¸ªç¨‹åºçš„æ—¶å€™æ²¡æœ‰æŸ¥åˆ°Nvidiaå®˜æ–¹æä¾›çš„API, ç°åœ¨çœ‹æ¥è¿˜æ˜¯ç”¨å®˜æ–¹çš„è½®å­å¥½ä¸€ç‚¹ã€‚ä¸è¿‡å› æ­¤å­¦ä¹ äº†ä¸€ç‚¹æ­£åˆ™å¼åŒ¹é…, ä¹Ÿç®—æœ‰ç‚¹æ”¶è·ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;img src=&quot;æ˜¾å¡.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;å¼•è¨€&quot;&gt;&lt;a href=&quot;#å¼•è¨€&quot; class=&quot;headerlink&quot; title=&quot;å¼•è¨€&quot;&gt;&lt;/a&gt;å¼•è¨€&lt;/h3&gt;&lt;p&gt;é•¿æœŸä»¥æ¥ï¼Œç¬”è€…åœ¨è·‘æ·±åº¦å­¦ä¹ å®éªŒæ—¶ï¼Œæ€»ä¼šé‡åˆ°è¿™æ ·ä¸€ä¸ªé—®é¢˜: ç©¶ç«Ÿè¯¥é€‰å“ªå—(o</summary>
      
    
    
    
    <category term="python" scheme="http://example.com/categories/python/"/>
    
    
    <category term="æ­£åˆ™å¼åŒ¹é…" scheme="http://example.com/tags/%E6%AD%A3%E5%88%99%E5%BC%8F%E5%8C%B9%E9%85%8D/"/>
    
  </entry>
  
  <entry>
    <title>é›¶åŸºç¡€å¿«é€Ÿæ­å»ºå…¬å¼€æ•°æ®é›†pythonçˆ¬è™«</title>
    <link href="http://example.com/2021/07/05/%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA%E5%85%AC%E5%BC%80%E6%95%B0%E6%8D%AE%E9%9B%86python%E7%88%AC%E8%99%AB/"/>
    <id>http://example.com/2021/07/05/%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA%E5%85%AC%E5%BC%80%E6%95%B0%E6%8D%AE%E9%9B%86python%E7%88%AC%E8%99%AB/</id>
    <published>2021-07-05T12:13:45.000Z</published>
    <updated>2021-07-21T20:46:53.650Z</updated>
    
    <content type="html"><![CDATA[<p><img src="çˆ¬è™«.jpg" alt=""></p><h3 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h3><p>æœ€è¿‘æ¥åˆ°è€æ¿ä»»åŠ¡ï¼Œéœ€è¦é‡æ–°ä¸‹è½½å‰æ®µæ—¶é—´ä¸‹è¿‡çš„ä¸€ä¸ªæ•°æ®é›†ã€‚è¿™ä¸ªæ•°æ®é›†ç½‘ç«™æœ‰å¤šåäººç±»å‘¢ï¼Ÿæˆ‘ä»¬å‰æ®µæ—¶é—´ä¸¤ä¸ªäººæ–­æ–­ç»­ç»­ç‚¹äº†ä¸‰å¤©æ‰ä¸‹è½½å®Œã€‚åŸå› æ˜¯æ•°æ®é›†æœ¬èº«æ˜¯å¤šæ¡çš„ï¼Œå¦‚æœç‚¹å‡»åˆå¹¶ä¸‹è½½ï¼Œ ç³»ç»Ÿåå°ä¼šå…ˆæŠŠæ‰€æœ‰çš„æ•°æ®å‹ç¼©æˆä¸€ä¸ªæ–‡ä»¶ï¼Œå†ç»™ä½ è¿™ä¸ªå‹ç¼©åŒ…çš„ä¸‹è½½é“¾æ¥ã€‚ä¸€æ¬¡æ‰“åŒ…æ•°é‡ç¨å¾®å¤šä¸€ç‚¹ç‚¹å°±ä¼šæ‰“åŒ…å¤±è´¥ï¼Œ å³ä½¿æˆåŠŸäº†ï¼Œ æ‰“åŒ…çš„æ—¶é—´çˆ†ç‚¸é•¿ã€‚ä¸€å…±å‡ åƒæ¡æ•°æ®ï¼Œ å¤§æ¦‚æ¯æ¬¡åªèƒ½ç‚¹äºŒä¸‰åä¸ªï¼Œ è¦ç»å†æ‰“åŒ…-ä¸‹è½½-è§£å‹-å½’ç±»ï¼Œ è¿˜å¾—å’Œä¸‹ä¸€æ‰¹æ•°æ®èµ·å§‹ä½ç½®è¡”æ¥å¥½ï¼Œ è¿˜è¦ä¸¤ä¸ªäººåˆ†å·¥å¥½ã€‚ ç¬¬ä¸€æ¬¡ä¸‹è½½è¿™ä¸ªæ•°æ®é›†çš„æ—¶å€™æˆ‘éƒ½å¿«åäº†ã€‚èº«ä¸ºä¸€ä¸ªå…·æœ‰hackerç²¾ç¥çš„äººï¼Œ æˆ‘ä¸å®¹è®¸è‡ªå·±å†è¿™ä¹ˆè ¢ã€‚ å¥½å¥‡å¿ƒçš„é©±ä½¿ä¸‹ï¼Œ èŠ±äº†4ä¸ªå°æ—¶é›¶åŸºç¡€ç»ˆäºå®Œæˆäº†çˆ¬è™«ä»£ç ï¼Œ ä¼˜åŒ–äº†2ä¸ªäºº3å¤©çš„è€—æ—¶ã€‚</p><p><img src="æ ·ä¾‹1.jpg" alt="å‡ åƒæ¡æ•°æ®éœ€è¦åˆ†æ®µå‹¾é€‰" title="å‡ åƒæ¡æ•°æ®éœ€è¦åˆ†æ®µå‹¾é€‰"></p><center>å‡ åƒæ¡æ•°æ®éœ€è¦åˆ†æ®µå‹¾é€‰</center><p><img src="æ ·ä¾‹2.png" alt="è¿™é‡Œå°±ç‚¹äº†åå‡ ä¸ªï¼ŒåŠåˆ†é’Ÿäº†æ‰“åŒ…è¿›åº¦è¿˜æ˜¯0%" title="è¿™é‡Œå°±ç‚¹äº†åå‡ ä¸ªï¼ŒåŠåˆ†é’Ÿäº†æ‰“åŒ…è¿›åº¦è¿˜æ˜¯0%"></p><center>è¿™é‡Œå°±ç‚¹äº†åå‡ ä¸ªï¼ŒåŠåˆ†é’Ÿäº†æ‰“åŒ…è¿›åº¦è¿˜æ˜¯0%</center><h3 id="é—®é¢˜åˆæ¢"><a href="#é—®é¢˜åˆæ¢" class="headerlink" title="é—®é¢˜åˆæ¢"></a>é—®é¢˜åˆæ¢</h3><p>é¦–å…ˆç»å°è¯•å‘ç°ï¼Œ æ¯æ¡æ•°æ®å•ç‹¬ä¸‹è½½æ˜¯éå¸¸å¿«çš„ï¼Œ å› ä¸ºä¸ç”¨ç½‘ç«™åå°æ‰“åŒ…ã€‚é‚£ä¹ˆå¾ˆè‡ªç„¶è€Œç„¶çš„æ€è·¯å°±æ˜¯ï¼Œ å¦‚æœèƒ½çˆ¬åˆ°æ¯æ¡æ•°æ®èƒŒåçš„ä¸‹è½½é“¾æ¥ï¼Œ å†ä¾æ¬¡ä¸‹è½½ï¼Œ ä¾¿å¤§åŠŸå‘Šæˆã€‚ å¹¸è¿çš„æ˜¯ï¼Œ ç¬”è€…ä¹‹å‰äº†è§£è¿‡æµè§ˆå™¨(æ¯”å¦‚Windows Edge)ä¸€èˆ¬éƒ½æœ‰ä¸€ä¸ªå¼€å‘è€…æ¨¡å¼, ç›´è§‰å‘Šè¯‰æˆ‘, å³é”®ç‚¹å‡»æ¯æ¡æ•°æ®é“¾æ¥ï¼Œä¸€å®šä¼šæœ‰å‘ç°ã€‚ç»è¿‡å°è¯•ï¼Œå³é”®ç‚¹å‡»æ£€æŸ¥ï¼Œä¼šç›´æ¥å®šä½åˆ°htmlæ–‡æœ¬(html ç®€å•æ¥è¯´å°±æ˜¯å®šä¹‰äº†æ•´ä¸ªç½‘é¡µå¸ƒå±€)å¯¹åº”ä½ç½®</p><p><img src="å³é”®.jpg" alt="ä¸‹è½½é“¾æ¥å³é”®èœå•" title="ä¸‹è½½é“¾æ¥å³é”®èœå•"></p><center>ä¸‹è½½é“¾æ¥å³é”®èœå•</center>  <p><img src="html.jpg" alt="å·¦è¾¹æ˜¯é¡µé¢ä¸­æŸæ¡æ•°æ®ï¼Œ å³è¾¹æ˜¯æŸ¥åˆ°çš„å¯¹åº”htmlä»£ç å—" title="å·¦è¾¹æ˜¯é¡µé¢ä¸­æŸæ¡æ•°æ®ï¼Œ å³è¾¹æ˜¯æŸ¥åˆ°çš„å¯¹åº”htmlä»£ç å—"></p><p></p><center>å·¦è¾¹æ˜¯é¡µé¢ä¸­æŸæ¡æ•°æ®ï¼Œ å³è¾¹æ˜¯æŸ¥åˆ°çš„å¯¹åº”htmlä»£ç å—</center><br><br>æ¥ä¸‹æ¥åªéœ€è¦çˆ¬å–æ•´ä¸ªhtmlæ–‡æœ¬åˆ°æœ¬åœ°å†è§£æå³å¯ã€‚ è¿™é‡Œå…¶å®é‡åˆ°ä¸€ä¸ªå°é—®é¢˜ï¼Œä¸‹è½½é¡µé¢æ˜¯ä¸‹æ‹‰æ‰©å±•å¼çš„ï¼Œä¹Ÿå°±æ˜¯å¿…é¡»é¼ æ ‡æ‹‰åˆ°åº•ï¼Œæ‰èƒ½è·å–åé¢çš„æ•°æ®ã€‚ç»è¿‡æŸ¥é˜…å¾—çŸ¥ï¼Œ è¿™æ˜¯åˆ†é¡µå¼é¡µé¢ï¼Œéœ€è¦çˆ¬è™«æ¨¡æ‹Ÿé¼ æ ‡ä¸‹æ‹‰ï¼Œè§£å†³æ–¹æ¡ˆæ˜¯æœ‰ï¼Œ ä½†æˆ‘é€‰æ‹©ç›´æ¥æ‰‹åŠ¨ä¸‹æ‹‰åˆ°åº•ï¼Œå› æ­¤æµè§ˆå™¨å…ƒç´ å®¡æŸ¥æ¨¡å—ä¸­åŠ è½½äº†å…¨éƒ¨ä¿¡æ¯ï¼Œç›´æ¥å¤åˆ¶åˆ°æœ¬åœ°å³å¯ã€‚<p></p><h3 id="é—®é¢˜å†æ¢"><a href="#é—®é¢˜å†æ¢" class="headerlink" title="é—®é¢˜å†æ¢"></a>é—®é¢˜å†æ¢</h3><p>ä¸‹é¢è¦è¿›è¡Œhtmlè§£æï¼Œé¦–å…ˆè¦çŸ¥é“ï¼Œhtml å’Œ xml ç±»ä¼¼, éƒ½å…·æœ‰æ ‘å½¢ç»“æ„ã€‚ ç»è¿‡è§‚å¯Ÿï¼Œæ‰€æœ‰çš„ä¸‹è½½é“¾æ¥å‡åœ¨</p><pre><code class="lang-html">&lt;li&gt;&lt;a class="op download" href="/xxxxx?dl=1"&gt;ä¸‹è½½&lt;/a&gt;&lt;/li&gt;</code></pre><p>è¿™æ ·å¼çš„hrefé‡Œã€‚è§£æä»£ç å¦‚ä¸‹:</p><pre><code class="lang-python">from bs4 import BeautifulSoupwith open('raw.html', encoding='utf-8') as f:        soup = BeautifulSoup(f,'html.parser')    l = soup.find_all(name='a', attrs={'class':'op download'}) # é€’å½’å…¨æ–‡æœç´¢ ä»å«açš„ç»“æ„ä½“ä¸­æ‰¾å±æ€§ä¸º op download</code></pre><p>è¿™é‡Œä½¿ç”¨ BeautifulSoup4 è§£æåº“ï¼Œ l è¿”å›çš„æ˜¯æ‰€æœ‰ä¸‹è½½é“¾æ¥çš„hrefæ‰€ç»„æˆçš„åˆ—è¡¨ã€‚</p><p>æ ¹æ®hrefå°è¯•çˆ¬å–(ä»£ç éšå»å…³é”®ä¿¡æ¯)</p><pre><code class="lang-python">import requestimport tqdmfor item in tqdm.tqdm(l):    dladdress = "æŸåŸŸå" + item['href'] # href è·¯å¾„ä¸ºæ•°æ®åº“åå°ç›¸å¯¹è·¯å¾„, æˆ‘ä»¬å¤–ç½‘è®¿é—®éœ€è¦åŠ å…¬ç½‘åŸŸå    source = requests.get(url=dladdress, verify=False)</code></pre><p>è¿”å›</p><pre><code>b'\n\n\n&lt;!DOCTYPE html&gt;\n&lt;html lang="en"&gt;\n&lt;head&gt;\n&lt;title&gt;Log In - Private Seafile&lt;/title&gt;\n&lt;meta http-equiv="Content-type" content="text/html; charset=utf-8" /&gt;\n&lt;meta name="keywords" content="File Collaboration Team Organization" /&gt;\n\n&lt;meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" /&gt;\n\n&lt;meta http-equiv="x-ua-compatible" content="ie=edge" /&gt;\n&lt;link rel="shortcut icon" href="/media/custom/favicon.ico" /&gt;\n&lt;link rel="stylesheet" type="text/css" href="/media/assets/css/bootstrap.min.b00faad199b5.css"/&gt;\n&lt;link rel="stylesheet" type="text/css" href="/media/css/jstree_default_theme/style.min.css" /&gt;\n&lt;link rel="stylesheet" type="text/css" href="/media/assets/css/magnific-popup.656241b2c8ed.css" /&gt;\n&lt;link rel="stylesheet" type="text/css" href="/media/css/seahub.min.css?t=1516678381" /&gt;\n\n&lt;style type="text/css"&gt;\nhtml, body, #wrapper { height:100%; }\n#wrapper {\n    background: url(\'/media/custom/login-bg.jpg\') center top no-repeat scroll;\n    background-size: cover;\n    padding-top:1px;\n}\n#main {\n    min-height:0;\n}\n#lang {\n    margin:0;\n}\n#lang-context {\n    font-weight:normal;\n}\n#lang-context-selector {\n    text-align:left;\n}\n&lt;/style&gt;\n\n\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;div id="wrapper" class="en"&gt;\n        \n        \n        \n\n        &lt;div id="header" class="navbar hide"&gt;\n            &lt;div id="header-inner"&gt;\n                \n                &lt;a href="/" id="logo" class="fleft"&gt;\n                    \n                    &lt;img src="/media/custom/mylogo.png" title="Private Seafile" alt="logo" width="244" height="32" /&gt;\n                    \n                &lt;/a&gt;\n                &lt;button class="sf2-icon-list-view side-nav-toggle hidden-md-up hide" title="Side Nav Menu" id="js-toggle-side-nav" aria-label="Side Nav Menu"&gt;&lt;/button&gt;\n\n                \n                 \n                &lt;div class="fright" id="lang"&gt;\n                    &lt;a href="#" id="lang-context" data-lang="en"&gt;English &lt;span class="icon-caret-down"&gt;&lt;/span&gt;&lt;/a&gt;\n                    &lt;div id="lang-context-selector" class="sf-popover hide"&gt;\n                        &lt;ul class="sf-popover-con"&gt;\n                            \n                            &lt;li&gt;&lt;a href="/i18n/?lang=en"&gt;English&lt;/a&gt;&lt;/li&gt;\n                            \n                            &lt;li&gt;&lt;a href="/i18n/?lang=zh-cn"&gt;\xe7\xae\x80\xe4\xbd\x93\xe4\xb8\xad\xe6\x96\x87&lt;/a&gt;&lt;/li&gt;\n                            \n                        &lt;/ul&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n                \n                \n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div id="main" class="clear container-fluid "&gt;\n            \n&lt;div class="login-panel-outer-container vh"&gt;\n&lt;div class="login-panel"&gt;\n    &lt;h1 class="login-panel-hd"&gt;Log In&lt;/h1&gt;\n    &lt;form action="" method="post" onsubmit="return check()"&gt;&lt;input type=\'hidden\' name=\'csrfmiddlewaretoken\' value=\'C75XMAtbeRg9m2r4emT46uLhV4oYW8vE\' /&gt;\n        &lt;input type="text" name="login" placeholder="Email or Username" aria-label="Email or Username" title="Email or Username" value="" class="input name-input" /&gt;&lt;br /&gt;\n        &lt;input type="password" name="password" placeholder="Password" aria-label="Password" title="Password" value="" class="input passwd-input" autocomplete="off" /&gt;\n\n        \n\n        &lt;input type="hidden" name="next" value="/lib/a37c012b-31cb-416b-b3e2-80589b19b3ff/file/L/hyper/053065_2-20x-roi6.raw?dl=1" /&gt;\n        \n        &lt;p class="error hide"&gt;&lt;/p&gt;\n        \n\n        &lt;label class="checkbox-label remember"&gt;\n            &lt;input type="checkbox" name="remember_me" class="vam remember-input" /&gt;\n            &lt;span class="vam"&gt;Remember me for 7 days &lt;/span&gt;\n        &lt;/label&gt;\n        &lt;a href="/accounts/password/reset/" class="normal forgot-passwd"&gt;Forgot password?&lt;/a&gt;\n\n        &lt;button type="submit" class="submit"&gt;Log In&lt;/button&gt;\n    &lt;/form&gt;\n\n    \n\n    \n\n    \n\n    \n\n    &lt;div class="login-panel-bottom-container"&gt;\n        \n        &lt;a href="/accounts/register/" class="normal fleft" id="sign-up"&gt;Signup&lt;/a&gt;\n        \n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n\n\n            \n            &lt;div id="confirm-popup" class="hide"&gt;\n                &lt;div id="confirm-con"&gt;&lt;/div&gt;\n                &lt;button id="confirm-yes"&gt;Yes&lt;/button&gt;\n                &lt;button class="simplemodal-close"&gt;No&lt;/button&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n&lt;/div&gt;&lt;!-- wrapper --&gt;\n\n&lt;script type="text/javascript" src="/media/js/jquery-1.12.1.min.js" id="jquery"&gt;&lt;/script&gt;\n&lt;script type="text/javascript" src="/media/assets/scripts/lib/jquery.simplemodal.67fb20a63282.js"&gt;&lt;/script&gt;\n&lt;script type="text/javascript" src="/media/assets/scripts/lib/jquery.ui.tabs.7406a3c5d2e3.js"&gt;&lt;/script&gt;\n&lt;script type="text/javascript" src="/media/assets/scripts/lib/jstree.min.baba5642f663.js"&gt;&lt;/script&gt;\n&lt;script type="text/javascript" src="/media/js/jq.min.js"&gt;&lt;/script&gt;\n&lt;script type="text/javascript" src="/media/js/base.js?t=1516678381"&gt;&lt;/script&gt;\n&lt;script type="text/javascript"&gt;\nfunction ajaxErrorHandler(xhr, textStatus, errorThrown) {\n    if (xhr.responseText) {\n        feedback($.parseJSON(xhr.responseText).error||$.parseJSON(xhr.responseText).error_msg, \'error\');\n    } else {\n        feedback("Failed. Please check the network.", \'error\');\n    }\n}\n \n(function() {\n    var lang_context = $(\'#lang-context\'),\n        lang_selector = $(\'#lang-context-selector\');\n\n    lang_context.parent().css({\'position\':\'relative\'});\n\n    if ($(\'#header\').is(\':visible\')) { // for login page\n        lang_selector.css({\n            \'top\': lang_context.position().top + lang_context.height() + 5,\n            \'right\': 0\n        });\n    }\n\n    var setLangSelectorMaxHeight = function() {\n        if ($(\'#header\').is(\':visible\')) { // for login page\n            $(\'.sf-popover-con\', lang_selector).css({\n                \'max-height\': $(window).height() - lang_selector.offset().top - 12\n            });\n        }\n    };\n    $(window).resize(function() {\n        if (lang_selector.is(\':visible\')) {\n            setLangSelectorMaxHeight();\n        }\n    });\n\n    lang_context.click(function() {\n        lang_selector.toggleClass(\'hide\');\n        if (lang_selector.is(\':visible\')) {\n            setLangSelectorMaxHeight();\n        }\n        return false;\n    });\n\n    $(document).click(function(e) {\n        var element = e.target || e.srcElement;\n        if (element.id != \'lang-context-selector\' &amp;&amp; element.id != \'lang-context\') {\n            lang_selector.addClass(\'hide\');\n        }\n    });\n})();\n\n\nif ($(\'.side-nav\').length) {\n    $(\'#logo\').addClass(\'hidden-sm-down\');\n    $(\'#js-toggle-side-nav\').removeClass(\'hide\');\n}\n$(\'#js-toggle-side-nav\').click(function() {\n    $(\'.side-nav\').css({\'left\': 0});\n    return false;\n});\n$(\'.js-close-side-nav\').click(function() {\n    $(\'.side-nav\').css({\'left\': \'-300px\'});\n    return false;\n});\n$(window).resize(function() {\n    if ($(window).width() &gt;= 768) {\n        $(\'.side-nav\').css({\'left\': 0});\n    }\n});\n&lt;/script&gt;\n\n&lt;script src="../../media/js/crypto-js.js"&gt;&lt;/script&gt;\n&lt;!--&lt;script src="../../media/js/md5.js"&gt;&lt;/script&gt;--&gt;\n&lt;!--&lt;script type="text/javascript" src="http://www.osctools.net/js/CryptoJS/components/core-min.js"&gt;&lt;/script&gt;--&gt;\n&lt;!--&lt;script type="text/javascript" src="http://www.osctools.net/js/CryptoJS/rollups/md5.js"&gt;&lt;/script&gt;--&gt;\n&lt;script type="text/javascript"&gt;\n// $(\'.login-panel-outer-container\').prepend($($(\'#logo\').html()).attr({\'width\': 160, \'height\':40}).addClass(\'login-panel-logo\'));\n$(\'.login-panel-bottom-container\').append($(\'#lang\').removeClass(\'fright\'));\n\nvar $el = $(\'.login-panel-outer-container\');\nvar elHeight = $el.outerHeight();\nvar wdHeight = $(window).height();\nif (wdHeight &gt; elHeight) {\n    $el.css({\'margin-top\': (wdHeight - elHeight)/2});\n}\n$(\'#lang\').css({\'margin-left\': $(\'#sign-up\').outerWidth() + 10});\n$el.removeClass(\'vh\');\n\n$(\'#lang-context-selector\').css({\n    \'top\': \'-\' + ($(\'#lang\').offset().top - 5) + \'px\',\n    \'right\': 0\n});\n$(\'#lang-context-selector .sf-popover-con\').css({\n    \'max-height\': $(\'#lang\').offset().top - 10\n});\n\n$(\'[name="login"]\').focus();\n\n//my function\nfunction check(){\nconst key = CryptoJS.enc.Utf8.parse("1234123412ABCDEF"); \nconst iv = CryptoJS.enc.Utf8.parse(\'ABCDEF1234123412\'); \nvar password=$(\'input[name="password"]\').val();\nlet srcs = CryptoJS.enc.Utf8.parse(password);\nlet encrypted = CryptoJS.AES.encrypt(srcs, key, { iv: iv, mode: CryptoJS.mode.CBC, padding: CryptoJS.pad.Pkcs7 });\nvar newpass=encrypted.ciphertext.toString().toUpperCase();\n//var newpass="12121212";\n//$("#password").val(password);\n//$(\'input[type="password"]\').attr(\'value\',password);\n$(\'input[name="password"]\').val(newpass);\n//$(\'input[name="password"]\').attr(\'value\',password);\nreturn true;\n}\n\nfunction setCaptchaInputWidth() {\n    $(\'#id_captcha_1\').outerWidth($(\'.input\').outerWidth() - $(\'.captcha\').width() - $(\'#refresh-captcha\').outerWidth(true) - 10);\n}\n$(window).load(setCaptchaInputWidth);\n$(\'.captcha\').load(setCaptchaInputWidth);\n$(\'#refresh-captcha\').click(function() {\n    $.ajax({\n        url: \'/captcha/refresh/\',\n        dataType:\'json\',\n        cache:false,\n        success: function(data) {\n            $(\'.captcha\').attr(\'src\', data[\'image_url\']);\n            $(\'#id_captcha_0\').val(data[\'key\']);\n        },\n        error: function() {\n            $(\'.error\').removeClass(\'hide\').html("Failed to refresh the CAPTCHA, please try again later.");\n        }\n    });\n    return false;\n});\n\n$(\'input[type="submit"]\').click(function(){\n    if (!$.trim($(\'input[name="login"]\').val())) {\n        $(\'.error\').removeClass(\'hide\').html("Email or username cannot be blank");\n        return false;\n    }\n    if (!$.trim($(\'input[name="password"]\').val())) {\n        $(\'.error\').removeClass(\'hide\').html("Password cannot be blank");\n        return false;\n    }\n});\n// set tabindex\n$(function() {\n    $(\'input:not([type="hidden"])\').each(function(index) {\n        $(this).attr(\'tabindex\', index + 1);\n    });\n});\n\n\n\n\n\n\n&lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n'Code Formats for Web Development - Open Social Communication Toolsb'\n\n\n&lt;!DOCTYPE html&gt;\n&lt;html lang="en"&gt;\n&lt;head&gt;\n&lt;title&gt;Log In - Private Seafile&lt;/title&gt;\n&lt;meta http-equiv="Content-type" content="text/html; charset=utf-8" /&gt;\n&lt;meta name="keywords" content="File Collaboration Team Organization" /&gt;\n\n&lt;meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" /&gt;\n\n&lt;meta http-equiv="x-ua-compatible" content="ie=edge" /&gt;\n&lt;link rel="shortcut icon" href="/media/custom/favicon.ico" /&gt;\n&lt;link rel="stylesheet" type="text/css" href="/media/assets/css/bootstrap.min.b00faad199b5.css"/&gt;\n&lt;link rel="stylesheet" type="text/css" href="/media/css/jstree_default_theme/style.min.css" /&gt;\n&lt;link rel="stylesheet" type="text/css" href="/media/assets/css/magnific-popup.656241b2c8ed.css" /&gt;\n&lt;link rel="stylesheet" type="text/css" href="/media/css/seahub.min.css?t=1516678381" /&gt;\n\n&lt;style type="text/css"&gt;\nhtml, body, #wrapper { height:100%; }\n#wrapper {\n    background: url(\'/media/custom/login-bg.jpg\') center top no-repeat scroll;\n    background-size: cover;\n    padding-top:1px;\n}\n#main {\n    min-height:0;\n}\n#lang {\n    margin:0;\n}\n#lang-context {\n    font-weight:normal;\n}\n#lang-context-selector {\n    text-align:left;\n}\n&lt;/style&gt;\n\n\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;div id="wrapper" class="en"&gt;\n        \n        \n        \n\n        &lt;div id="header" class="navbar hide"&gt;\n            &lt;div id="header-inner"&gt;\n                \n                &lt;a href="/" id="logo" class="fleft"&gt;\n                    \n                    &lt;img src="/media/custom/mylogo.png" title="Private Seafile" alt="logo" width="244" height="32" /&gt;\n                    \n                &lt;/a&gt;\n                &lt;button class="sf2-icon-list-view side-nav-toggle hidden-md-up hide" title="Side Nav Menu" id="js-toggle-side-nav" aria-label="Side Nav Menu"&gt;&lt;/button&gt;\n\n                \n                 \n                &lt;div class="fright" id="lang"&gt;\n                    &lt;a href="#" id="lang-context" data-lang="en"&gt;English &lt;span class="icon-caret-down"&gt;&lt;/span&gt;&lt;/a&gt;\n                    &lt;div id="lang-context-selector" class="sf-popover hide"&gt;\n                        &lt;ul class="sf-popover-con"&gt;\n                            \n                            &lt;li&gt;&lt;a href="/i18n/?lang=en"&gt;English&lt;/a&gt;&lt;/li&gt;\n                            \n                            &lt;li&gt;&lt;a href="/i18n/?lang=zh-cn"&gt;\xe7\xae\x80\xe4\xbd\x93\xe4\xb8\xad\xe6\x96\x87&lt;/a&gt;&lt;/li&gt;\n                            \n                        &lt;/ul&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n                \n                \n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div id="main" class="clear container-fluid "&gt;\n            \n&lt;div class="login-panel-outer-container vh"&gt;\n&lt;div class="login-panel"&gt;\n    &lt;h1 class="login-panel-hd"&gt;Log In&lt;/h1&gt;\n    &lt;form action="" method="post" onsubmit="return check()"&gt;&lt;input type=\'hidden\' name=\'csrfmiddlewaretoken\' value=\'C75XMAtbeRg9m2r4emT46uLhV4oYW8vE\' /&gt;\n        &lt;input type="text" name="login" placeholder="Email or Username" aria-label="Email or Username" title="Email or Username" value="" class="input name-input" /&gt;&lt;br /&gt;\n        &lt;input type="password" name="password" placeholder="Password" aria-label="Password" title="Password" value="" class="input passwd-input" autocomplete="off" /&gt;\n\n        \n\n        &lt;input type="hidden" name="next" value="/lib/a37c012b-31cb-416b-b3e2-80589b19b3ff/file/L/hyper/053065_2-20x-roi6.raw?dl=1" /&gt;\n        \n        &lt;p class="error hide"&gt;&lt;/p&gt;\n        \n\n        &lt;label class="checkbox-label remember"&gt;\n            &lt;input type="checkbox" name="remember_me" class="vam remember-input" /&gt;\n            &lt;span class="vam"&gt;Remember me for 7 days &lt;/span&gt;\n        &lt;/label&gt;\n        &lt;a href="/accounts/password/reset/" class="normal forgot-passwd"&gt;Forgot password?&lt;/a&gt;\n\n        &lt;button type="submit" class="submit"&gt;Log In&lt;/button&gt;\n    &lt;/form&gt;\n\n    \n\n    \n\n    \n\n    \n\n    &lt;div class="login-panel-bottom-container"&gt;\n        \n        &lt;a href="/accounts/register/" class="normal fleft" id="sign-up"&gt;Signup&lt;/a&gt;\n        \n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n\n\n            \n            &lt;div id="confirm-popup" class="hide"&gt;\n                &lt;div id="confirm-con"&gt;&lt;/div&gt;\n                &lt;button id="confirm-yes"&gt;Yes&lt;/button&gt;\n                &lt;button class="simplemodal-close"&gt;No&lt;/button&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n&lt;/div&gt;&lt;!-- wrapper --&gt;\n\n&lt;script type="text/javascript" src="/media/js/jquery-1.12.1.min.js" id="jquery"&gt;&lt;/script&gt;\n&lt;script type="text/javascript" src="/media/assets/scripts/lib/jquery.simplemodal.67fb20a63282.js"&gt;&lt;/script&gt;\n&lt;script type="text/javascript" src="/media/assets/scripts/lib/jquery.ui.tabs.7406a3c5d2e3.js"&gt;&lt;/script&gt;\n&lt;script type="text/javascript" src="/media/assets/scripts/lib/jstree.min.baba5642f663.js"&gt;&lt;/script&gt;\n&lt;script type="text/javascript" src="/media/js/jq.min.js"&gt;&lt;/script&gt;\n&lt;script type="text/javascript" src="/media/js/base.js?t=1516678381"&gt;&lt;/script&gt;\n&lt;script type="text/javascript"&gt;\nfunction ajaxErrorHandler(xhr, textStatus, errorThrown) {\n    if (xhr.responseText) {\n        feedback($.parseJSON(xhr.responseText).error||$.parseJSON(xhr.responseText).error_msg, \'error\');\n    } else {\n        feedback("Failed. Please check the network.", \'error\');\n    }\n}\n \n(function() {\n    var lang_context = $(\'#lang-context\'),\n        lang_selector = $(\'#lang-context-selector\');\n\n    lang_context.parent().css({\'position\':\'relative\'});\n\n    if ($(\'#header\').is(\':visible\')) { // for login page\n        lang_selector.css({\n            \'top\': lang_context.position().top + lang_context.height() + 5,\n            \'right\': 0\n        });\n    }\n\n    var setLangSelectorMaxHeight = function() {\n        if ($(\'#header\').is(\':visible\')) { // for login page\n            $(\'.sf-popover-con\', lang_selector).css({\n                \'max-height\': $(window).height() - lang_selector.offset().top - 12\n            });\n        }\n    };\n    $(window).resize(function() {\n        if (lang_selector.is(\':visible\')) {\n            setLangSelectorMaxHeight();\n        }\n    });\n\n    lang_context.click(function() {\n        lang_selector.toggleClass(\'hide\');\n        if (lang_selector.is(\':visible\')) {\n            setLangSelectorMaxHeight();\n        }\n        return false;\n    });\n\n    $(document).click(function(e) {\n        var element = e.target || e.srcElement;\n        if (element.id != \'lang-context-selector\' &amp;&amp; element.id != \'lang-context\') {\n            lang_selector.addClass(\'hide\');\n        }\n    });\n})();\n\n\nif ($(\'.side-nav\').length) {\n    $(\'#logo\').addClass(\'hidden-sm-down\');\n    $(\'#js-toggle-side-nav\').removeClass(\'hide\');\n}\n$(\'#js-toggle-side-nav\').click(function() {\n    $(\'.side-nav\').css({\'left\': 0});\n    return false;\n});\n$(\'.js-close-side-nav\').click(function() {\n    $(\'.side-nav\').css({\'left\': \'-300px\'});\n    return false;\n});\n$(window).resize(function() {\n    if ($(window).width() &gt;= 768) {\n        $(\'.side-nav\').css({\'left\': 0});\n    }\n});\n&lt;/script&gt;\n\n&lt;script src="../../media/js/crypto-js.js"&gt;&lt;/script&gt;\n&lt;!--&lt;script src="../../media/js/md5.js"&gt;&lt;/script&gt;--&gt;\n&lt;!--&lt;script type="text/javascript" src="http://www.osctools.net/js/CryptoJS/components/core-min.js"&gt;&lt;/script&gt;--&gt;\n&lt;!--&lt;script type="text/javascript" src="http://www.osctools.net/js/CryptoJS/rollups/md5.js"&gt;&lt;/script&gt;--&gt;\n&lt;script type="text/javascript"&gt;\n// $(\'.login-panel-outer-container\').prepend($($(\'#logo\').html()).attr({\'width\': 160, \'height\':40}).addClass(\'login-panel-logo\'));\n$(\'.login-panel-bottom-container\').append($(\'#lang\').removeClass(\'fright\'));\n\nvar $el = $(\'.login-panel-outer-container\');\nvar elHeight = $el.outerHeight();\nvar wdHeight = $(window).height();\nif (wdHeight &gt; elHeight) {\n    $el.css({\'margin-top\': (wdHeight - elHeight)/2});\n}\n$(\'#lang\').css({\'margin-left\': $(\'#sign-up\').outerWidth() + 10});\n$el.removeClass(\'vh\');\n\n$(\'#lang-context-selector\').css({\n    \'top\': \'-\' + ($(\'#lang\').offset().top - 5) + \'px\',\n    \'right\': 0\n});\n$(\'#lang-context-selector .sf-popover-con\').css({\n    \'max-height\': $(\'#lang\').offset().top - 10\n});\n\n$(\'[name="login"]\').focus();\n\n//my function\nfunction check(){\nconst key = CryptoJS.enc.Utf8.parse("1234123412ABCDEF"); \nconst iv = CryptoJS.enc.Utf8.parse(\'ABCDEF1234123412\'); \nvar password=$(\'input[name="password"]\').val();\nlet srcs = CryptoJS.enc.Utf8.parse(password);\nlet encrypted = CryptoJS.AES.encrypt(srcs, key, { iv: iv, mode: CryptoJS.mode.CBC, padding: CryptoJS.pad.Pkcs7 });\nvar newpass=encrypted.ciphertext.toString().toUpperCase();\n//var newpass="12121212";\n//$("#password").val(password);\n//$(\'input[type="password"]\').attr(\'value\',password);\n$(\'input[name="password"]\').val(newpass);\n//$(\'input[name="password"]\').attr(\'value\',password);\nreturn true;\n}\n\nfunction setCaptchaInputWidth() {\n    $(\'#id_captcha_1\').outerWidth($(\'.input\').outerWidth() - $(\'.captcha\').width() - $(\'#refresh-captcha\').outerWidth(true) - 10);\n}\n$(window).load(setCaptchaInputWidth);\n$(\'.captcha\').load(setCaptchaInputWidth);\n$(\'#refresh-captcha\').click(function() {\n    $.ajax({\n        url: \'/captcha/refresh/\',\n        dataType:\'json\',\n        cache:false,\n        success: function(data) {\n            $(\'.captcha\').attr(\'src\', data[\'image_url\']);\n            $(\'#id_captcha_0\').val(data[\'key\']);\n        },\n        error: function() {\n            $(\'.error\').removeClass(\'hide\').html("Failed to refresh the CAPTCHA, please try again later.");\n        }\n    });\n    return false;\n});\n\n$(\'input[type="submit"]\').click(function(){\n    if (!$.trim($(\'input[name="login"]\').val())) {\n        $(\'.error\').removeClass(\'hide\').html("Email or username cannot be blank");\n        return false;\n    }\n    if (!$.trim($(\'input[name="password"]\').val())) {\n        $(\'.error\').removeClass(\'hide\').html("Password cannot be blank");\n        return false;\n    }\n});\n// set tabindex\n$(function() {\n    $(\'input:not([type="hidden"])\').each(function(index) {\n        $(this).attr(\'tabindex\', index + 1);\n    });\n});\n\n\n\n\n\n\n&lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n'</code></pre><p>è™½ç„¶çœ‹ä¸æ‡‚æ˜¯ä»€ä¹ˆï¼Œ ä½†å¤§æ¦‚çŸ¥é“æ˜¯æ²¡è´¦å·å¯†ç ã€‚è”æƒ³åˆ°æ‰‹åŠ¨ä¸‹è½½æ—¶åªéœ€è¦ä¸€å¼€å§‹ç™»é™†ï¼Œé‚£ä¹ˆè¿™é‡Œrequestè¯·æ±‚ä¸€å®šéœ€è¦cookieè€Œä¸æ˜¯è¾“å…¥è´¦å·å¯†ç , æˆ‘ä»¬éœ€è¦<strong>æ¨¡æ‹Ÿä¿å­˜cookieçš„æµè§ˆå™¨è¯·æ±‚</strong>ã€‚Edgeæµè§ˆå™¨æ‰“å¼€æ•°æ®é›†ç½‘ç«™ï¼ŒæŒ‰F12ï¼Œ ç‚¹å‡»åº”ç”¨ç¨‹åºï¼Œå·¦ä¾§é€‰æ‹© cookieï¼Œä¼šå‡ºç°æ˜æ–‡åç§°-å€¼ï¼Œç”¨pythonå­—å…¸å°†å…¶å­˜å‚¨ï¼Œä½œä¸ºå‚æ•°è¾“å…¥requestã€‚httpåè®®è¿˜éœ€è¦ä¸€ä¸ªè¯·æ±‚å¤´(å°±ç¬”è€…çˆ¬çš„è¿™ä¸ªç½‘ç«™æ¥è¯´ï¼Œæ²¡æœ‰è¯·æ±‚å¤´ä¹Ÿè¡Œ, è¯»è€…æœ‰å…´è¶£å¯ä»¥çœ‹çœ‹httpåè®®)ï¼Œå®Œæ•´çˆ¬å–ä»£ç å¦‚ä¸‹ï¼š</p><p><img src="cookie.jpg" alt="EdgeæŸ¥æ‰¾ç½‘ç«™ä¿å­˜çš„Cookie" title="EdgeæŸ¥æ‰¾ç½‘ç«™ä¿å­˜çš„Cookie"></p><p></p><center>EdgeæŸ¥æ‰¾ç½‘ç«™ä¿å­˜çš„Cookie</center><br><br><p></p><pre><code class="lang-python">import osfrom threading import Threadimport requestsimport tqdmfrom bs4 import BeautifulSouprequests.packages.urllib3.disable_warnings()def crawler(l):    # æ¨¡æ‹Ÿç«ç‹æµè§ˆå™¨ç™»é™†    header = {'User-Agent': 'Mozilla/5.0 (Windows NT 6.1; Win64; x64)'}    # å­—å…¸å†…éƒ¨ä¿å­˜ä¸ºå­—ç¬¦ä¸², ä»æµè§ˆå™¨å¼€å‘è€…æ¨¡å¼ä¸­è¯»å–    cookies = { 'XXX': 'XXX',                'XXX': 'XXX',                'XXX': 'XXX'}    for item in tqdm.tqdm(l):        dladdress = "æŸåŸŸå" + item['href']        source = requests.get(url=dladdress, cookies=cookies, headers=header,verify=False)#å–æ¶ˆå®‰å…¨éªŒè¯        name = source.headers['Content-Disposition'].split(' ')[1][1:-1] #ä»ç½‘ç«™å“åº”headerä¸­è·å¾—æ–‡ä»¶å        if source.status_code == 200:   #å“åº”ä»£ç 200 è¡¨ç¤ºè®¿é—®æˆåŠŸï¼Œhttp åè®®è§„å®š            with open('./hyper/' + name, 'wb') as fp:                fp.write(source.content)                fp.close()if __name__ == '__main__':    with open('raw.html', encoding='utf-8') as f:  # raw.html æ˜¯æµè§ˆå™¨æ‰‹åŠ¨ä¸‹è½½ä¸‹æ¥çš„htmlæ–‡ä»¶        soup = BeautifulSoup(f,'html.parser')    l = soup.find_all(name='a', attrs={'class':'op download'})    ThreadPool = []    tasknum = 5  #è®¾ç½®5çº¿ç¨‹çˆ¬å–æ•°æ®    interval = len(l)//(tasknum) + 1 # æ¯ä¸ªçº¿ç¨‹åˆ†é…çš„ä»»åŠ¡æ•°, +1ä»£è¡¨æœ€åä¸€ä¸ªçº¿ç¨‹åˆ†é…ä»»åŠ¡æ•°å¿…ç„¶å¤§äºæ‰€å‰©ä»»åŠ¡    for i in range(tasknum):          ThreadPool.append(Thread(target=crawler, args=([l[i*interval:(i+1)*interval]]),))      # çº¿ç¨‹æ± ä¸­æ·»åŠ ä¸€ä¸ªçº¿ç¨‹    # æ³¨æ„è¿™ä¸ªçº¿ç¨‹æ± æ˜¯ä¸€ä¸ªå¹¿ä¹‰çš„æ¦‚å¿µ    # ä½ å¯ä»¥ç”¨ä»»æ„æ•°æ®ç»“æ„æ¥å®ç°    # æ–¹ä¾¿å­˜å…¥ã€æ“ä½œçº¿ç¨‹å¯¹è±¡å³å¯    for p in ThreadPool:        p.start()    for p in ThreadPool:        p.join()</code></pre><p>å¤§åŠŸå‘Šæˆï¼ Enjoy it!</p><h3 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h3><p>ç¬”è€…ä¹‹å‰å‡ ä¹æœªæ¥è§¦è¿‡çˆ¬è™«æ–¹é¢ï¼Œç”šè‡³ç½‘ç»œæ–¹é¢çŸ¥è¯†ï¼Œè™½ç„¶æœ€ç»ˆä»£ç åªæœ‰å‡ åè¡Œï¼Œ ä½†æ¢ç´¢çš„è¿‡ç¨‹å´æ˜¯ååˆ†è‰°è¾›çš„ï¼ŒçŸ­æ—¶é—´å†…éœ€è¦åœ¨ä¼—å¤šè¿‡æ—¶çˆ¬è™«æ–‡ç« ä¸­ï¼Œ æç‚¼å‡ºä½ æ‰€éœ€è¦çš„ã€‚ æˆ‘ä¸€å‘ä¿¡å¥‰é—®é¢˜é©±åŠ¨ï¼Œè™½ç„¶æ²¡æœ‰è€ƒè™‘å„ç§çˆ¬è™«å› ç´ (æ¯”å¦‚å®‰å…¨æ–¹é¢ã€åçˆ¬æ–¹é¢)ï¼Œä½†ç®€é™‹çš„ä»£ç è¿˜æ˜¯å¸®æˆ‘è§£å†³äº†è¿«åˆ‡çš„é—®é¢˜ï¼Œå€¼å¾—åº†å¹¸ï¼</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;img src=&quot;çˆ¬è™«.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;å¼•è¨€&quot;&gt;&lt;a href=&quot;#å¼•è¨€&quot; class=&quot;headerlink&quot; title=&quot;å¼•è¨€&quot;&gt;&lt;/a&gt;å¼•è¨€&lt;/h3&gt;&lt;p&gt;æœ€è¿‘æ¥åˆ°è€æ¿ä»»åŠ¡ï¼Œéœ€è¦é‡æ–°ä¸‹è½½å‰æ®µæ—¶é—´ä¸‹è¿‡çš„ä¸€ä¸ªæ•°æ®é›†ã€‚è¿™ä¸ªæ•°æ®é›†ç½‘ç«™æœ‰å¤š</summary>
      
    
    
    
    <category term="python" scheme="http://example.com/categories/python/"/>
    
    
    <category term="çˆ¬è™«" scheme="http://example.com/tags/%E7%88%AC%E8%99%AB/"/>
    
  </entry>
  
  <entry>
    <title>pandas å¤šçº¿ç¨‹æ•°æ®å¤„ç†</title>
    <link href="http://example.com/2021/05/19/pandas-%E5%A4%9A%E7%BA%BF%E7%A8%8B%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86/"/>
    <id>http://example.com/2021/05/19/pandas-%E5%A4%9A%E7%BA%BF%E7%A8%8B%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86/</id>
    <published>2021-05-19T01:12:19.000Z</published>
    <updated>2021-07-05T16:58:09.611Z</updated>
    
    <content type="html"><![CDATA[<p><img src="ç†ŠçŒ«.jpg" alt=""><br>æœ€è¿‘ä¸šåŠ¡éœ€è¦å¤„ç†ä¸€æ‰¹è¡¨æ ¼æ•°æ®ã€‚å¤„ç†è¿‡ç¨‹ä¸­ï¼Œæˆåƒä¸Šä¸‡æ¡æ•°æ®éƒ½éœ€è¦è¿›è¡Œi/oè¯»å†™ï¼Œè‡ªç„¶è€Œç„¶è¦ç”¨åˆ°å¹¶å‘ç¼–ç¨‹ã€‚</p><p>pythonå¹¶å‘ç¼–ç¨‹ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹ä¸‰ç§ï¼š</p><p>1) å¤šè¿›ç¨‹ï¼šä¸»è¦ç”¨äºå¤„ç†cpuå¯†é›†å‹ä»»åŠ¡ã€‚</p><p>2) å¤šçº¿ç¨‹ï¼šä¸»è¦ç”¨äºå¤„ç†i/oå¯†é›†å‹ä»»åŠ¡.</p><p>3) åç¨‹ï¼šä¸ºäº†è§£å†³2) çº¿ç¨‹ä¹‹é—´åˆ‡æ¢èµ„æºå¼€é”€æµªè´¹è€Œäº§ç”Ÿï¼Œåˆå«å¾®çº¿ç¨‹ï¼Œ é€šå¸¸å’Œå¤šè¿›ç¨‹é…åˆä½¿ç”¨ï¼Œ æ•ˆæœå¥‡ä½³ã€‚</p><p>è¿™é‡Œè¯¦ç»†æ¦‚å¿µã€ç”¨æ³•ä¸ä½œèµ˜è¿°ï¼Œ ç¬”è€…å½“å¹´å­¦ä¹ çš„æ—¶å€™çœ‹è¿‡å‡ ç¯‡ä¸é”™çš„å…¥é—¨ï¼Œ åœ°å€è¿™é‡Œç»™å‡ºã€‚</p><p><a href="https://zhuanlan.zhihu.com/p/46798399">çˆ±codingï¼špythonå¹¶è¡Œè®¡ç®—ï¼ˆä¸Šï¼‰ï¼šmultiprocessingã€multiprocessæ¨¡å—</a></p><p><a href="https://zhuanlan.zhihu.com/p/46368084">ä¸€æ–‡çœ‹æ‡‚Pythonå¤šè¿›ç¨‹ä¸å¤šçº¿ç¨‹ç¼–ç¨‹(å·¥ä½œå­¦ä¹ é¢è¯•å¿…è¯»)</a></p><p><a href="https://zhuanlan.zhihu.com/p/64702600">ä¸€ç¯‡æ–‡ç« æå®šPythonå¤šè¿›ç¨‹(å…¨)</a></p><p><a href="https://zhuanlan.zhihu.com/p/70256971">ã€é¢è¯•é«˜é¢‘é—®é¢˜ã€‘çº¿ç¨‹ã€è¿›ç¨‹ã€åç¨‹</a></p><p>å› ä¸ºæ˜¯å¤„ç†i/oå¯†é›†å‹ä»»åŠ¡ï¼Œè¿™é‡Œé‡‡ç”¨ç¬¬äºŒç§å¹¶å‘æ–¹å¼(å…¶å®æ˜¯ç¬”è€…æ²¡ç©è¿‡åç¨‹å“ˆå“ˆ)ã€‚åºŸè¯ä¸å¤šè¯´ï¼Œ ç›´æ¥ä¸Šæ ¸å¿ƒæ¡†æ¶:</p><pre><code class="lang-python">from threading import Threadimport pandas as pdclass MyThread(Thread):    def __init__(self, group=None, target=None, name=None,                 args=(), kwargs=None, *, daemon=None) -&gt; None:   #è¿™é‡Œå®šä¹‰ç›´æ¥copy Threadç±»é‡ŒåŸç”Ÿå®šä¹‰        super().__init__(group=group, target=target,                         name=name, args=args,                         kwargs=kwargs, daemon=daemon)      def run(self) -&gt; None:        try:            if self._target:                self.result = self._target(*self._args, **self._kwargs) #ä¸Threadç±»å”¯ä¸€ä¸åŒçš„æ˜¯ï¼Œ æˆ‘ä»¬ç”¨ç±»å†…å±æ€§resultä¿å­˜æ¯ä¸ªçº¿ç¨‹ç»“æœ        finally:            del self._target, self._args, self._kwargsif __name__ == '__main__':    ThreadPool = []    for i in iterator:  #ä¼ªä»£ç ï¼Œ è¡¨ç¤ºä¸€ä¸ªè¿­ä»£å™¨ç”Ÿæˆå¤šä¸ªä»»åŠ¡        ThreadPool.append(MyThread(arget=func, args=(*args,)))      # çº¿ç¨‹æ± ä¸­æ·»åŠ ä¸€ä¸ªçº¿ç¨‹    # æ³¨æ„è¿™ä¸ªçº¿ç¨‹æ± æ˜¯ä¸€ä¸ªå¹¿ä¹‰çš„æ¦‚å¿µ    # ä½ å¯ä»¥ç”¨ä»»æ„æ•°æ®ç»“æ„æ¥å®ç°    # æ–¹ä¾¿å­˜å…¥ã€æ“ä½œçº¿ç¨‹å¯¹è±¡å³å¯    for p in ThreadPool:        p.start()    for p in ThreadPool:        p.join()    df = pd.concat([p.result for p in ThreadPool]) #æŠŠæ‰€æœ‰çº¿ç¨‹å¤„ç†ç»“æœåˆå¹¶æˆè¦ä¸€ä¸ªè¡¨æ ¼</code></pre><p>è¿™é‡Œæ³¨æ„<strong>init</strong>å‚æ•°ä¸­ï¼Œ æœ‰ä¸€ä¸ªå‚æ•°ä¸º<em>ï¼Œè¿™é‡Œå‚è§å‰é¢æ–‡ç« <br>[Pythonå½¢å‚ä¸­\</em>çš„ä½œç”¨(é<em>argsï¼Œ*</em>kwargs)](<a href="https://zhuanlan.zhihu.com/p/372492539">https://zhuanlan.zhihu.com/p/372492539</a>)</p><p>ç½‘ä¸Šå¾ˆå¤šçº¿ç¨‹å®ç°æ–¹æ¡ˆé‡Œï¼Œ éƒ½å®Œå…¨é‡å†™äº†<strong>init</strong> å’Œ run æ–¹æ³•ï¼Œ æŠŠç§è´§å†™è¿›å»ã€‚ ç¬”è€…ä¸ªäººè§‰å¾—ï¼Œ å®˜æ–¹åº“æ—¢ç„¶æœ€åŸå§‹è¿™æ ·å†™ï¼Œ è‡ªç„¶æœ‰å®ƒçš„é“ç†ã€‚ æˆ‘ä»¬åœ¨ç»§æ‰¿å¯¹è±¡çš„æ—¶å€™ï¼Œ è¦å°½é‡å°‘åšæ”¹åŠ¨ï¼Œ å°½é‡æŠŠè‡ªå®šä¹‰çš„ä¸œè¥¿(æ¯”æ–¹è¯´ä»»åŠ¡)æ”¾åœ¨å¤–é¢è¾“å…¥è¿›APIå°±å¯ä»¥äº†ã€‚ä¸‹é¢å®ç°ä¸€ä¸ªç®€å•çš„ä»»åŠ¡ï¼Œä½¿ç”¨å¹¿åº¦ä¼˜å…ˆ(bfsï¼Œæœ€å¤§æ·±åº¦é»˜è®¤ä¸º3ï¼Œè¦ä¸ç„¶æ—¶é—´ç•¥é•¿)ç»Ÿè®¡ç³»ç»Ÿ(Win)å„ä¸ªç£ç›˜æ–‡ä»¶è·¯å¾„ã€å¤§å°ä»¥åŠåˆ›å»ºæ—¶é—´ã€‚</p><pre><code class="lang-python">def func(rootpath, maxdepth=3):    df = pd.DataFrame()    filepaths = [(rootpath, 0)]  #ç»´æŠ¤ä¸€ä¸ªé˜Ÿåˆ—ï¼Œ æ¯ä¸ªè·¯å¾„é™„å¸¦ä¸€ä¸ªæ·±åº¦å€¼    while len(filepaths) != 0:        cur_path, cur_depth = filepaths.pop(0)        if cur_depth &gt;= maxdepth:  #æ·±åº¦è¾¾åˆ°æœ€å¤§æ·±åº¦åœæ­¢æœç´¢            idx = len(df)              df.loc[idx, 'path'] = os.path.join(cur_path)  #è®°å½•è·¯å¾„            df.loc[idx, 'date'] = os.path.getctime(cur_path)  #è®°å½•æ—¶é—´            df.loc[idx, 'size'] = os.path.getsize(cur_path)  #è®°å½•æ–‡ä»¶å¤§å°        else:            try:  #è¿™ä¸ªçº¯ç²¹æ˜¯å› ä¸ºWinç³»ç»Ÿæœ‰äº›è·¯å¾„ä¸è®©è®¿é—®æŠ¥OSErrorï¼Œ å“ªæ€•å¼€äº†ç®¡ç†å‘˜æƒé™                subfiles = os.listdir(cur_path)                for f in subfiles:                    subfpath = os.path.join(cur_path, f)                    if os.path.isdir(subfpath):                        filepaths.append((subfpath, cur_depth+1))  #å¦‚æœæ˜¯æ–‡ä»¶å¤¹, ç»§ç»­bfsæœç´¢                    else:                        idx = len(df)                        df.loc[idx, 'path'] = os.path.join(subfpath)                        df.loc[idx, 'date'] = os.path.getctime(subfpath)                        df.loc[idx, 'size'] = os.path.getsize(subfpath)            except OSError:                pass    return df</code></pre><p>ä¸‹é¢ä¸Šå®Œæ•´ä»£ç ï¼š</p><pre><code class="lang-python"># -*- coding: utf-8 -*- import datetimeimport osimport timefrom threading import Threadimport pandas as pddef func(rootpath, maxdepth=3):    df = pd.DataFrame()    filepaths = [(rootpath, 0)]  #ç»´æŠ¤ä¸€ä¸ªé˜Ÿåˆ—ï¼Œ æ¯ä¸ªè·¯å¾„é™„å¸¦ä¸€ä¸ªæ·±åº¦å€¼    while len(filepaths) != 0:        cur_path, cur_depth = filepaths.pop(0)        if cur_depth &gt;= maxdepth:  #æ·±åº¦è¾¾åˆ°æœ€å¤§æ·±åº¦åœæ­¢æœç´¢            idx = len(df)              df.loc[idx, 'path'] = os.path.join(cur_path)  #è®°å½•è·¯å¾„            df.loc[idx, 'date'] = os.path.getctime(cur_path)  #è®°å½•æ—¶é—´            df.loc[idx, 'size'] = os.path.getsize(cur_path)  #è®°å½•æ–‡ä»¶å¤§å°        else:            try:  #è¿™ä¸ªçº¯ç²¹æ˜¯å› ä¸ºWinç³»ç»Ÿæœ‰äº›è·¯å¾„ä¸è®©è®¿é—®æŠ¥OSErrorï¼Œ å“ªæ€•å¼€äº†ç®¡ç†å‘˜æƒé™                subfiles = os.listdir(cur_path)                for f in subfiles:                    subfpath = os.path.join(cur_path, f)                    if os.path.isdir(subfpath):                        filepaths.append((subfpath, cur_depth+1))  #å¦‚æœæ˜¯æ–‡ä»¶å¤¹, ç»§ç»­bfsæœç´¢                    else:                        idx = len(df)                        df.loc[idx, 'path'] = os.path.join(subfpath)                        df.loc[idx, 'date'] = os.path.getctime(subfpath)                        df.loc[idx, 'size'] = os.path.getsize(subfpath)            except OSError:                pass    return dfclass MyThread(Thread):    def __init__(self, group=None, target=None, name=None,                 args=(), kwargs=None, *, daemon=None) -&gt; None:   #è¿™é‡Œå®šä¹‰ç›´æ¥copy Threadç±»é‡ŒåŸç”Ÿå®šä¹‰        super().__init__(group=group, target=target,                         name=name, args=args,                         kwargs=kwargs, daemon=daemon)      def run(self) -&gt; None:        try:            if self._target:                self.result = self._target(*self._args, **self._kwargs) #ä¸Threadç±»å”¯ä¸€ä¸åŒçš„æ˜¯ï¼Œ æˆ‘ä»¬ç”¨ç±»å†…å±æ€§resultä¿å­˜æ¯ä¸ªçº¿ç¨‹ç»“æœ        finally:            del self._target, self._args, self._kwargsif __name__ == '__main__':    ThreadPool = []    ThreadPool.append(MyThread(target=func, args=('c:/', 3)))    ThreadPool.append(MyThread(target=func, args=('d:/', 3)))    ThreadPool.append(MyThread(target=func, args=('e:/', 3)))    for p in ThreadPool:        p.start()    for p in ThreadPool:        p.join()    df = pd.concat([p.result for p in ThreadPool])    df.to_csv('thread.csv', index=None)</code></pre><p>æ”¶å·¥ï¼</p><hr><p>ç ç—´ï¼Œ coding æ”¹å˜äººç”Ÿï¼</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;img src=&quot;ç†ŠçŒ«.jpg&quot; alt=&quot;&quot;&gt;&lt;br&gt;æœ€è¿‘ä¸šåŠ¡éœ€è¦å¤„ç†ä¸€æ‰¹è¡¨æ ¼æ•°æ®ã€‚å¤„ç†è¿‡ç¨‹ä¸­ï¼Œæˆåƒä¸Šä¸‡æ¡æ•°æ®éƒ½éœ€è¦è¿›è¡Œi/oè¯»å†™ï¼Œè‡ªç„¶è€Œç„¶è¦ç”¨åˆ°å¹¶å‘ç¼–ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;pythonå¹¶å‘ç¼–ç¨‹ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹ä¸‰ç§ï¼š&lt;/p&gt;
&lt;p&gt;1) å¤šè¿›ç¨‹ï¼šä¸»è¦ç”¨äºå¤„ç†cpuå¯†é›†å‹ä»»åŠ¡ã€‚</summary>
      
    
    
    
    <category term="python" scheme="http://example.com/categories/python/"/>
    
    
    <category term="pandas å¤šçº¿ç¨‹" scheme="http://example.com/tags/pandas-%E5%A4%9A%E7%BA%BF%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>Pythonå½¢å‚ä¸­*çš„ä½œç”¨(é*args**kwargs)</title>
    <link href="http://example.com/2021/05/19/Python%E5%BD%A2%E5%8F%82%E4%B8%AD-%E7%9A%84%E4%BD%9C%E7%94%A8-%E9%9D%9E-args-kwargs/"/>
    <id>http://example.com/2021/05/19/Python%E5%BD%A2%E5%8F%82%E4%B8%AD-%E7%9A%84%E4%BD%9C%E7%94%A8-%E9%9D%9E-args-kwargs/</id>
    <published>2021-05-19T00:44:51.000Z</published>
    <updated>2021-07-05T17:00:12.261Z</updated>
    
    <content type="html"><![CDATA[<p><img src="py.jpg" alt=""><br>å› ä¸šåŠ¡éœ€æ±‚ï¼Œ é˜…è¯»äº†pythonå¤šçº¿ç¨‹åº“threadingæºç ã€‚å‘ç°<strong>init</strong>å‡½æ•°æ˜¯è¿™æ ·å®šä¹‰çš„</p><pre><code class="lang-python">class Thread:    def __init__(self, group=None, target=None, name=None,                 args=(), kwargs=None, *, daemon=None):</code></pre><p>å…¶ä¸­ * ç¬é—´æ‰“å¼€äº†æˆ‘æ–°ä¸–ç•Œå¤§é—¨ï¼Œå› ä¸ºæŒ‰ç†è¯´pythonä¸æ”¯æŒç‰¹æ®Šå­—ç¬¦ä½œä¸ºå˜é‡åã€‚</p><p>æ‰€æœ‰ä¸­æ–‡æœç´¢å¼•æ“æ²¡æœ‰å‘ç°ç›¸å…³è§£é‡Šã€‚ ä¸å¾—å·²å» æ ˆæº¢å‡º ç½‘ç«™çœ‹çœ‹å¤–å›½å¤§ä½¬æ€ä¹ˆè¯´ï¼Œ å¾ˆå¹¸è¿æ‰¾åˆ°äº†è§£é‡Šã€‚</p><p>æ ¹æ®PEP3102ï¼Œ* çš„åŸºæœ¬æ„ä¹‰ä¸ºï¼Œ åœ¨è¿™ä¸ªä½ç½®ä¹‹åçš„å‚æ•°å¿…é¡»ç”¨å…³é”®å­—å‚æ•°(keyword arguement)ä½œä¸ºè¾“å…¥ã€‚ å…¶ä½œç”¨æœ‰ä¸¤ä¸ª:</p><h2 id="1-çœç•¥å…³é”®å­—å‚æ•°çš„é»˜è®¤å€¼"><a href="#1-çœç•¥å…³é”®å­—å‚æ•°çš„é»˜è®¤å€¼" class="headerlink" title="1) çœç•¥å…³é”®å­—å‚æ•°çš„é»˜è®¤å€¼"></a>1) çœç•¥å…³é”®å­—å‚æ•°çš„é»˜è®¤å€¼</h2><p>è¯·çœ‹ä¸‹é¢çš„ç®€å•ä¾‹å­</p><pre><code class="lang-python">def func(arg1, arg2, *, arg3, arg4):    print('This is arg1: ' + arg1)    print('This is arg2: ' + arg2)    print('This is arg3: ' + arg3)    print('This is arg4: ' + arg4)func('arg1', 'arg2', 'arg3', 'arg4')</code></pre><p>è¿”å›</p><pre><code>Exception has occurred: TypeErrorfunc() takes 2 positional arguments but 4 were given</code></pre><p>è¿™é‡Œæ˜¯è¯´funcåªéœ€è¦2ä¸ªä½ç½®å‚æ•°(position arguements), ä½†æ˜¯æ¥åˆ°äº†4ä¸ªã€‚ä¿®æ”¹ä»£ç å¦‚ä¸‹:</p><pre><code class="lang-python">def func(arg1, arg2, *, arg3, arg4):    print('This is arg1: ' + arg1)    print('This is arg2: ' + arg2)    print('This is arg3: ' + arg3)    print('This is arg4: ' + arg4)func('arg1', 'arg2', arg3='arg3', arg4='arg4')</code></pre><p>è¿”å›</p><pre><code class="lang-markdown">This is arg1: arg1This is arg2: arg2This is arg3: arg3This is arg4: arg4</code></pre><p>å†æ¥çœ‹çœ‹arg3ï¼Œ arg4 æœ‰æ²¡æœ‰å…³é”®å­—å‚æ•°çš„æ‰“åŒ…è§£åŒ…(pack-unpack)æ€§è´¨</p><pre><code class="lang-python">def func(arg1, arg2, *, arg3, arg4):    print('This is arg1: ' + arg1)    print('This is arg2: ' + arg2)    print('This is arg3: ' + arg3)    print('This is arg4: ' + arg4)kwarg = {'arg3':'arg3', 'arg4':'arg4'}func('arg1', 'arg2', **kwarg)</code></pre><p>è¿”å›</p><pre><code class="lang-markdown">This is arg1: arg1This is arg2: arg2This is arg3: arg3This is arg4: arg4</code></pre><p>è¯æ˜ arg3ï¼Œ arg4 ç¡®å®æ˜¯å¯ä»¥ä¸èµ‹é»˜è®¤å€¼çš„å…³é”®å­—å‚æ•°ã€‚ä¸‹é¢æ¥çœ‹ç¬¬äºŒä¸ªä½œç”¨ã€‚</p><h2 id="2-é¿å…-ä½ç½®å‚æ•°-å’Œ-å…³é”®å­—å‚æ•°æ··ç”¨"><a href="#2-é¿å…-ä½ç½®å‚æ•°-å’Œ-å…³é”®å­—å‚æ•°æ··ç”¨" class="headerlink" title="2) é¿å… ä½ç½®å‚æ•° å’Œ å…³é”®å­—å‚æ•°æ··ç”¨"></a>2) é¿å… ä½ç½®å‚æ•° å’Œ å…³é”®å­—å‚æ•°æ··ç”¨</h2><p>æœ‰æ—¶å€™æˆ‘ä»¬è¾“å…¥ä½ç½®å‚æ•°æ—¶ï¼Œ ä¼šä¸å°å¿ƒå¤šæ‰“ï¼Œ å¯¼è‡´å…³é”®å­—å‚æ•°è¢«è¾“å…¥é”™ã€‚</p><pre><code class="lang-python">def func(arg1, arg2, arg3, arg4=False):    print('This is arg1: ' + arg1)    print('This is arg2: ' + arg2)    print('This is arg3: ' + arg3)    print('This is arg4: ' + arg4)func('arg1', 'arg2', 'arg3', 'arg3')</code></pre><p>è¿”å›</p><pre><code class="lang-markdown">This is arg1: arg1This is arg2: arg2This is arg3: arg3This is arg4: arg3</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œ ç”±äºæˆ‘ä»¬å¤šè¾“å…¥äº†ä¸€ä¸ª â€˜arg3â€™, å¯¼è‡´arg4æ¥åˆ°äº†é”™è¯¯å‚æ•°ã€‚ä¿®æ”¹ä»£ç å¦‚ä¸‹ï¼š</p><pre><code class="lang-python">def func(arg1, arg2, arg3, *, arg4=False):    print('This is arg1: ' + arg1)    print('This is arg2: ' + arg2)    print('This is arg3: ' + arg3)    print('This is arg4: ' + arg4)func('arg1', 'arg2', 'arg3', 'arg3')</code></pre><p>è¿”å›</p><pre><code class="lang-markdown">func() takes 3 positional arguments but 4 were given</code></pre><p>æœ‰æ•ˆé˜²æ­¢äº†æˆ‘ä»¬è¾“å…¥é”™è¯¯ã€‚</p><p>å›åˆ°åˆšå¼€å§‹python threading å¤šçº¿ç¨‹åº“çš„é—®é¢˜,</p><pre><code class="lang-python">class Thread:    def __init__(self, group=None, target=None, name=None,                 args=(), kwargs=None, *, daemon=None):</code></pre><p>è¿™é‡Œå£°æ˜äº† daemon ä¸€å®šè¦ç”¨å…³é”®å­—å‚æ•°è¾“å…¥, è¯´æ˜å¼€å‘è€…è®¤ä¸ºè¿™ä¸ªå‚æ•°ååˆ†é‡è¦ã€‚äº‹å®ä¸Šï¼Œ è¿™ä¸ªdaemonæ„æ€æ˜¯å®ˆæŠ¤çº¿ç¨‹çš„æ„æ€ï¼Œå’Œé˜»å¡çº¿ç¨‹æ­£å¥½æ˜¯ä¸¤ä¸ªç›¸åçš„é€»è¾‘é¡ºåºã€‚ æœ¬æ–‡ä¸åšæ·±å…¥è®²è§£ï¼Œ è¯»è€…åªéœ€è¦çŸ¥é“è¿™é‡Œdaemonè®¾ç½®ä¸ºTrueï¼Œ Falseï¼Œ æˆ–è€…ä¿æŒé»˜è®¤å‚æ•°ï¼Œä¼šå¯¼è‡´è¿™ä¸ªçº¿ç¨‹å‡ºç°ä¸‰ä¸ªå®Œå…¨ä¸åŒçš„è¿è¡ŒçŠ¶æ€ï¼Œ å› è€Œè¦ä½¿ç”¨*æ¥æé†’ç”¨æˆ·é¿å…è¾“é”™ã€‚</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li>[1] <a href="https://stackoverflow.com/questions/11365909/what-does-a-single-without-identifier-mean-in-the-python3-functions">What does a single * without identifier mean in the Python3 functions?</a></li><li>[2] <a href="https://www.python.org/dev/peps/pep-3102/">PEP 3102 â€” Keyword-Only Arguments</a></li><li>[3] <a href="https://stackoverflow.com/questions/59661042/what-do-single-star-and-slash-do-as-independent-parameters">What do * (single star) and / (slash) do as independent parameters?</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;img src=&quot;py.jpg&quot; alt=&quot;&quot;&gt;&lt;br&gt;å› ä¸šåŠ¡éœ€æ±‚ï¼Œ é˜…è¯»äº†pythonå¤šçº¿ç¨‹åº“threadingæºç ã€‚å‘ç°&lt;strong&gt;init&lt;/strong&gt;å‡½æ•°æ˜¯è¿™æ ·å®šä¹‰çš„&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;lang-python&quot;&gt;class Thr</summary>
      
    
    
    
    <category term="python" scheme="http://example.com/categories/python/"/>
    
    
  </entry>
  
  <entry>
    <title>SSH éš§é“ç«¯å£è½¬å‘å®ç°Jupyter Notebookè¿œç¨‹è®¿é—®æœåŠ¡å™¨</title>
    <link href="http://example.com/2021/05/18/SSH-%E9%9A%A7%E9%81%93%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91%E5%AE%9E%E7%8E%B0Jupyter-Notebook%E8%BF%9C%E7%A8%8B%E8%AE%BF%E9%97%AE%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    <id>http://example.com/2021/05/18/SSH-%E9%9A%A7%E9%81%93%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91%E5%AE%9E%E7%8E%B0Jupyter-Notebook%E8%BF%9C%E7%A8%8B%E8%AE%BF%E9%97%AE%E6%9C%8D%E5%8A%A1%E5%99%A8/</id>
    <published>2021-05-18T15:16:13.000Z</published>
    <updated>2021-07-05T16:54:40.828Z</updated>
    
    <content type="html"><![CDATA[<p>Jupyter Notebook åœ¨å¹¿å¤§pythonç”¨æˆ·ï¼Œå°¤å…¶æ˜¯æ•°æ®ç§‘å­¦å·¥ä½œè€…ä¸­æ·±å—å–œçˆ±ã€‚å…¶æ–¹ä¾¿çš„äº¤äº’æ€§ï¼Œ å¯è§†æ€§ç‰¹åˆ«é€‚åˆæ•°æ®åˆ†æã€‚è™½ç„¶ç¬”è€…å·²ç»å¤šå¹´ä¸ä»¥å…¶ä½œä¸ºä¸»åŠ›pythonç¼–è¾‘ç¯å¢ƒï¼Œä½†å®éªŒå®¤è¿˜æ˜¯æœ‰äºº(æ•°å­¦èƒŒæ™¯å‡ºèº«ï¼Œè²Œä¼¼ææ•°å­¦çš„pythoneréƒ½ç‰¹åˆ«å–œæ¬¢jupyter)å¯¹å…¶ååˆ†é’çã€‚ èº«ä¸ºå®éªŒå®¤æœåŠ¡å™¨è¿ç»´çš„ç¬”è€…ï¼Œ è‡ªç„¶è¦è´Ÿè´£é…ç½®å¥½jupyeterè¿œç¨‹è®¿é—®ã€‚ç½‘ä¸Šæ‰€æœ‰çš„æ•™ç¨‹(åŒ…æ‹¬å®˜ç½‘)éƒ½åƒç¯‡ä¸€å¾‹éœ€è¦ä¿®æ”¹æœåŠ¡å™¨æœ¬åœ°jupyter_notebook_config.py, è€Œä¸”ç»å¤§å¤šæ•°æ•™ç¨‹å¹¶æ²¡æœ‰æŒ‰ç…§å®˜ç½‘å»ºè®®çš„é…ç½®å®‰å…¨è¯ä¹¦ã€‚ç¬”è€…æ›¾ç»å†ç»åƒè¾›ä¸‡è‹¦é…æˆåŠŸè¿‡ï¼Œä½†è¸©å‘æ— æ•°ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ã€‚ å¶ç„¶ä¸€æ¬¡æœºä¼šå‘ç° ssh éš§é“ç«¯å£è½¬å‘åè®®ï¼Œ é‚äº§ç”Ÿideaä½¿ç”¨å®ƒæ¥å®ç°è¿œç¨‹è®¿é—®æœåŠ¡å™¨ã€‚</p><p>&nbsp;</p><h2 id="ä¸€ã€SSH-éš§é“ç«¯å£è½¬å‘ç®€ä»‹"><a href="#ä¸€ã€SSH-éš§é“ç«¯å£è½¬å‘ç®€ä»‹" class="headerlink" title="ä¸€ã€SSH éš§é“ç«¯å£è½¬å‘ç®€ä»‹"></a>ä¸€ã€SSH éš§é“ç«¯å£è½¬å‘ç®€ä»‹</h2><p>SSHéš§é“çš„ç‰¹ç‚¹ï¼š</p><p>1ã€åŠ å¯†SSHå®¢æˆ·ç«¯ç«¯è‡³SSHæœåŠ¡å™¨ç«¯ä¹‹é—´çš„é€šè®¯æ•°æ®</p><p>2ã€çªç ´é˜²ç«å¢™çš„é™åˆ¶å®Œæˆä¸€äº›ä¹‹å‰æ— æ³•å»ºç«‹çš„TCPè¿æ¥</p><p>åœ¨æœ¬æ–‡åº”ç”¨åœºæ™¯ä¸‹ï¼Œç®€è€Œè¨€ä¹‹å°±æ˜¯jupyter notebook åœ¨æœåŠ¡å™¨ç»ˆç«¯å¯åŠ¨æ—¶ï¼Œä¼šåœ¨æœåŠ¡å™¨æœ¬åœ°äº§ç”Ÿä¸€ä¸ªæœåŠ¡ã€‚æˆ‘ä»¬éœ€è¦åšçš„å°±æ˜¯é€šè¿‡ ssh éš§é“è½¬å‘åè®®ï¼Œå°†æœåŠ¡å™¨ jupyter æœåŠ¡ç«¯å£è½¬å‘è‡³æˆ‘ä»¬æœ¬åœ°æœºå™¨ä¸Šçš„ç«¯å£ï¼Œ ä»è€Œè¿›è¡Œè¿œç¨‹è®¿é—®ã€‚SSH ç«¯å£è½¬å‘æœ‰ä¸‰ä¸ªé€‰é¡¹ï¼š-Lã€-Rå’Œ-Dã€‚è¿™é‡Œæˆ‘ä»¬ç”¨-Lï¼Œå³å°†è¿œç¨‹(L)ä¸»æœºç«¯å£è½¬å‘æœ¬åœ°ã€‚</p><p>&nbsp;</p><h2 id="äºŒã€ä¸Šæœºæ“ä½œ"><a href="#äºŒã€ä¸Šæœºæ“ä½œ" class="headerlink" title="äºŒã€ä¸Šæœºæ“ä½œ"></a>äºŒã€ä¸Šæœºæ“ä½œ</h2><p>Linux OSï¼šUbuntu18.04</p><p>æ‰“å¼€æœ¬åœ°ç»ˆç«¯ç™»å½•æœåŠ¡å™¨ï¼Œè¿›å…¥è¦ä½¿ç”¨çš„pythonç¯å¢ƒ(conda activate env)ï¼Œè¾“å…¥  </p><pre><code>jupyter notebook --port=20000</code></pre><p>è¿™é‡Œ20000ä¸ºè¿œç¨‹ç«¯å£ï¼Œ è¯»è€…å¯è‡ªå®šä¹‰ã€‚ è¿”å›å¦‚ä¸‹(éšå»çœŸå®è·¯å¾„ä¿¡æ¯)  </p><pre><code>(base) MatrixMan@server:~$ jupyter notebook --port=20000[I 19:56:22.007 NotebookApp] JupyterLab extension loaded from /your/path/to/anaconda3/lib/python3.8/site-packages/jupyterlab[I 19:56:22.007 NotebookApp] JupyterLab application directory is /your/path/to/anaconda3/share/jupyter/lab[I 19:56:22.011 NotebookApp] å¯åŠ¨notebooks åœ¨æœ¬åœ°è·¯å¾„: /your/path/to/boot[I 19:56:22.011 NotebookApp] æœ¬ç¨‹åºè¿è¡Œåœ¨: http://iiplab-server:20000/[I 19:56:22.011 NotebookApp] ä½¿ç”¨control-cåœæ­¢æ­¤æœåŠ¡å™¨å¹¶å…³é—­æ‰€æœ‰å†…æ ¸(ä¸¤æ¬¡è·³è¿‡ç¡®è®¤).</code></pre><p>æ‰“å¼€å¦ä¸€ä¸ªç»ˆç«¯(ä¹Ÿå¯ä»¥ä½¿ç”¨nohupå‘½ä»¤å°†jupyteræŒ‚åœ¨ç³»ç»Ÿåå°ï¼Œå°±ä¸ç”¨æ‰“å¼€ç¬¬äºŒä¸ªç»ˆç«¯)ï¼Œ è¾“å…¥(éšå»çœŸå®åœ°å€)  </p><pre><code>ssh -L localhost:2000:localhost:20000 MatrixMan@143.111.56.87</code></pre><p>å¦‚æœé…ç½®è¿‡ssh å…å¯†ç™»å½•çš„è¯ï¼Œæ­¤æ—¶å·²ç»å¯ä»¥åœ¨æœ¬åœ°è®¿é—®äº†ã€‚</p><p>æ‰“å¼€æµè§ˆå™¨ï¼Œ è¾“å…¥</p><pre><code>http://localhost:2000/</code></pre><p><img src="./f1.jpg" alt="æ•ˆæœå›¾"></p><p>æå®šï¼ï¼ï¼</p><hr><p>æ¬¢è¿æå‡ºåé¦ˆæ„è§ï¼Œ æ‰¹è¯„æŒ‡æ­£.<br>çŸ©é˜µä¾ ï¼Œ åˆ†äº«å·¥ä½œå­¦ä¹ ä¸­æ‰€è§æ‰€é—»ï¼Œ æ¬¢è¿äº¤æµï¼</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Jupyter Notebook åœ¨å¹¿å¤§pythonç”¨æˆ·ï¼Œå°¤å…¶æ˜¯æ•°æ®ç§‘å­¦å·¥ä½œè€…ä¸­æ·±å—å–œçˆ±ã€‚å…¶æ–¹ä¾¿çš„äº¤äº’æ€§ï¼Œ å¯è§†æ€§ç‰¹åˆ«é€‚åˆæ•°æ®åˆ†æã€‚è™½ç„¶ç¬”è€…å·²ç»å¤šå¹´ä¸ä»¥å…¶ä½œä¸ºä¸»åŠ›pythonç¼–è¾‘ç¯å¢ƒï¼Œä½†å®éªŒå®¤è¿˜æ˜¯æœ‰äºº(æ•°å­¦èƒŒæ™¯å‡ºèº«ï¼Œè²Œä¼¼ææ•°å­¦çš„pythoneréƒ½ç‰¹åˆ«å–œæ¬¢jupyter)å¯¹å…¶</summary>
      
    
    
    
    <category term="æœåŠ¡å™¨è¿ç»´" scheme="http://example.com/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%BF%90%E7%BB%B4/"/>
    
    
    <category term="jupyter" scheme="http://example.com/tags/jupyter/"/>
    
  </entry>
  
</feed>
